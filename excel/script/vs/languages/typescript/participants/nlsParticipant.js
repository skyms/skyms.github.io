/*---------------------------------------------------------
 * Copyright (C) Microsoft Corporation. All rights reserved.
 *--------------------------------------------------------*/
"use strict";define("vs/languages/typescript/participants/nlsParticipant",["require","exports","vs/nls!vs/languages/typescript/participants/nlsParticipant","vs/base/severity","vs/base/strings","vs/languages/typescript/lib/typescriptServices"],function(e,t,n,r,o,i){var s=function(){function e(e,t){this._sourceFile=e,this._model=t}return e.prototype.MarkNotLocalizedStrings=function(e){var t=[];this._markers=e;var n=function(e){e&&t.push(e)};t.push(this._sourceFile);do{var r=t.shift();r&&(this.isNlsLocalizeCall(r)||(this.markDoubleQuoteString(r),i.forEachChild(r,n)))}while(t.length>0)},e.prototype.isNlsLocalizeCall=function(e){if(e.kind===i.SyntaxKind.CallExpression){var t=e;if(t.expression.kind===i.SyntaxKind.PropertyAccessExpression){var n=t.expression;return o.equalsIgnoreCase(i.getTextOfNode(n.expression),"nls")&&o.equalsIgnoreCase(i.getTextOfNode(n.name),"localize")}}return!1},e.prototype.markDoubleQuoteString=function(t){if(t.kind===i.SyntaxKind.StringLiteral&&i.getTextOfNode(t).charCodeAt(0)===e._DoubleQuote){var o=this._model.getRangeFromOffsetAndLength(i.getTokenPosOfNode(t),t.getWidth());this._markers.push({severity:r.Info,message:n.localize("vs_languages_typescript_participants_nlsParticipant",0),startLineNumber:o.startLineNumber,startColumn:o.startColumn,endLineNumber:o.endLineNumber,endColumn:o.endColumn})}},e._DoubleQuote='"'.charCodeAt(0),e}(),a=function(){function e(){this._markers=[]}return e.prototype.validate=function(t,n,r){this._markers.length=0;var o=new s(r,t);o.MarkNotLocalizedStrings(this._markers),n.changeOne(e.ID,t.getAssociatedResource(),this._markers)},e.ID="typescript.nlsParticipant",e}();t.WorkerParticipant=a});