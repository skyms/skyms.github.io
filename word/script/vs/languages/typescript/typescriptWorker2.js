/*---------------------------------------------------------
 * Copyright (C) Microsoft Corporation. All rights reserved.
 *--------------------------------------------------------*/
"use strict";define("vs/base/sortedList",["require","exports","vs/base/arrays"],function(e,t,n){var r=function(){function e(t){this.keys=[],this.values=[],this.comparator=t||e.DEFAULT_COMPARATOR}return Object.defineProperty(e.prototype,"count",{get:function(){return this.keys.length},enumerable:!0,configurable:!0}),e.prototype.getValueByIndex=function(e){return e>=0&&e<this.values.length?this.values[e]:null},e.prototype.getKey=function(e){return e>=0&&e<this.keys.length?this.keys[e]:null},e.prototype.getKeys=function(){return new o(this.keys)},e.prototype.getValue=function(e){if(!e)throw new Error("Key must be defined.");var t=this.indexOfKey(e);return t>=0?this.values[t]:null},e.prototype.getValues=function(){return new o(this.values)},e.prototype.indexOfKey=function(e){if(!e)throw new Error("Key must be defined.");return n.binarySearch(this.keys,e,this.comparator)},e.prototype.add=function(e,t){if(!e||!t)throw new Error("Key and value must be defined.");for(var n=0;n<this.keys.length&&this.comparator(e,this.keys[n])>0;)n++;this.keys.splice(n,0,e),this.values.splice(n,0,t)},e.prototype.remove=function(e){if(!e)throw new Error("Key must be defined.");var t=this.indexOfKey(e);return t>=0&&(this.values.splice(t,1),this.keys.splice(t,1)),t>=0},e.prototype.getIterator=function(){return new i(this.keys,this.values)},e.DEFAULT_COMPARATOR=function(e,t){return t>e?-1:e>t?1:0},e}();t.SortedList=r;var i=function(){function e(e,t){this.keys=e,this.values=t,this.index=-1}return Object.defineProperty(e.prototype,"current",{get:function(){return this.index<0||this.keys.length<this.index?null:{key:this.keys[this.index],value:this.values[this.index]}},enumerable:!0,configurable:!0}),e.prototype.moveNext=function(){return this.index++,this.index<this.keys.length},e.prototype.hasNext=function(){return this.index+1<this.keys.length},e.prototype.reset=function(){this.index=-1},e.prototype.dispose=function(){this.keys=null,this.values=null},e}(),o=function(){function e(e){this.values=e,this.index=-1}return Object.defineProperty(e.prototype,"current",{get:function(){return this.index<0||this.values.length<this.index?null:this.values[this.index]},enumerable:!0,configurable:!0}),e.prototype.moveNext=function(){return this.index++,this.index<this.values.length},e.prototype.hasNext=function(){return this.index+1<this.values.length},e.prototype.reset=function(){this.index=-1},e.prototype.dispose=function(){this.values=null},e}()}),define("vs/languages/typescript/features/validationStrategy",["require","exports","vs/base/lifecycle","vs/base/sortedList","vs/platform/services"],function(e,t,n,r,i){function o(e,t){var n=e.reason-t.reason;if(0!==n)return n;if(n=e.type-t.type,0!==n)return n;if(n=t.timestamp-e.timestamp,0!==n)return n;var r=e.resource.toExternal(),i=t.resource.toExternal();return i>r?-1:r>i?1:0}!function(e){e[e.ItChanged=1]="ItChanged",e[e.SomeChanged=2]="SomeChanged"}(t.ValidationReason||(t.ValidationReason={}));t.ValidationReason;!function(e){e[e.Syntax=1]="Syntax",e[e.Semantic=2]="Semantic"}(t.ValidationType||(t.ValidationType={}));var s=t.ValidationType,a=function(){function e(e){this._data=new r.SortedList(e)}return Object.defineProperty(e.prototype,"count",{get:function(){return this._data.count},enumerable:!0,configurable:!0}),e.prototype.add=function(e){var t=this._data.indexOfKey(e);return 0>t?(this._data.add(e,!0),!0):!1},e.prototype.remove=function(e){for(var t=this.getIterator(),n=[],r=!1;t.moveNext();)e(t.current)&&(n.push(t.current),r=!0);for(;n.length>0;)this._data.remove(n.pop());return r},e.prototype.contains=function(e){return this._data.indexOfKey(e)>=0},e.prototype.first=function(){var e=this._data.getKey(0);return null!==e&&this._data.remove(e),e},e.prototype.peek=function(){return this._data.getKey(0)},e.prototype.getIterator=function(){return this._data.getKeys()},e}(),l=function(){function e(e,t){var n=this;this._disposeables=[],this._queue=new a(o),this._scheduleHandle=-1,this._resourceService=e.resourceService,this._disposeables.push(this._resourceService.addListener2(i.ResourceEvents.REMOVED,function(e){return n._onResourceRemoved(e.url)})),this._validationCallback=t}return e.prototype._onResourceRemoved=function(e){this._queue.remove(function(t){return t.resource.equals(e)}),0===this._queue.count&&clearTimeout(this._scheduleHandle)},e.prototype.dispose=function(){n.disposeAll(this._disposeables),clearTimeout(this._scheduleHandle),this._queue=null},e.prototype.scheduleValidation=function(e,t){if(1===e)this._queue.remove(function(e){return e.resource.equals(t.getAssociatedResource())}),this._queue.add({reason:e,type:s.Syntax,resource:t.getAssociatedResource(),timestamp:Date.now()}),this._queue.add({reason:e,type:s.Semantic,resource:t.getAssociatedResource(),timestamp:Date.now()});else{for(var n=!1,r=this._queue.getIterator();r.moveNext()&&!n;)r.current.resource.equals(t.getAssociatedResource())&&1===r.current.reason&&r.current.type===s.Semantic&&(n=!0);n||this._queue.add({reason:e,type:s.Semantic,resource:t.getAssociatedResource(),timestamp:Date.now()})}this._scheduleNext()},e.prototype._scheduleNext=function(){var e=this;if(0!==this._queue.count){clearTimeout(this._scheduleHandle);var t=1===this._queue.peek().reason?0:1e3;this._scheduleHandle=setTimeout(function(){var t=e._queue.first();e._validationCallback(t.resource,t.type,t.reason).then(function(){e._scheduleNext()},function(t){console.error(t),e._scheduleNext()}),e._scheduleNext()},t)}},e}();t.ValidationStrategy=l}),define("vs/languages/typescript/project/project",["require","exports","vs/base/lib/winjs.base"],function(e,t,n){var r=function(){function e(e){this._delegates=e}return e.prototype.resolve=function(e){return this._doResolve(e,0)},e.prototype._doResolve=function(e,t){var r=this;return t>=this._delegates.length?n.TPromise.as(null):this._delegates[t].resolve(e).then(function(i){return i?n.TPromise.as(i):r._doResolve(e,t+1)})},e.prototype.accept=function(e){return this._doAccept(e,0)},e.prototype._doAccept=function(e,t){var r=this;return t>=this._delegates.length?n.TPromise.as(null):this._delegates[t].accept(e).then(function(){return r._doAccept(e,t+1)})},e}();t.CompositeContentResolver=r}),define("vs/base/db/indexeddb",["require","exports","vs/base/types","vs/base/lib/winjs.base","vs/base/errors"],function(e,t,n,r,i){function o(){return"undefined"!=typeof indexedDB}function s(e,t,n){return new r.TPromise(function(r,i){var o;o="undefined"!=typeof t?indexedDB.open(e,t):indexedDB.open(e),o.onerror=function(e){return i(e)},o.onsuccess=function(e){return r(new u(e.target.result))},o.onupgradeneeded=function(e){if(!n)return i(e);var t=e.target.result;n({createDataStore:function(e){var n=t.createObjectStore(e.name,{keyPath:e.keyPath,autoIncrement:e.autoIncrement});e.index&&e.index.forEach(function(e){return n.createIndex(e.name,e.keyPath,e.options)})},deleteDataStore:function(e){t.deleteObjectStore(e)}},t)}})}function a(e){return new r.TPromise(function(t,n){e.onsuccess=function(){t(e)},e.onerror=function(t){n(e.error||t)}})}t.canBeUsed=o,function(e){e[e.ReadOnly=0]="ReadOnly",e[e.ReadWrite=1]="ReadWrite",e[e.VersionChange=2]="VersionChange"}(t.TransactionMode||(t.TransactionMode={}));var l=t.TransactionMode;!function(e){function t(t){return e[t]?e[t].toLowerCase():null}e.toString=t}(t.TransactionMode||(t.TransactionMode={}));var l=t.TransactionMode;!function(e){e[e.Next=0]="Next",e[e.NextUnique=1]="NextUnique",e[e.Prev=2]="Prev",e[e.PrevUnique=3]="PrevUnique"}(t.Direction||(t.Direction={}));var c=t.Direction;!function(e){function t(t){return e[t]?e[t].toLowerCase():null}e.toString=t}(t.Direction||(t.Direction={}));var c=t.Direction;t.openDatabase=s;var u=function(){function e(e){this._db=e}return Object.defineProperty(e.prototype,"db",{get:function(){return this._db},enumerable:!0,configurable:!0}),e.prototype.dispose=function(){this._db.close()},e.prototype.createTransaction=function(e,t){return"undefined"!=typeof t?this._db.transaction(e,l.toString(t)):this._db.transaction(e)},e.prototype.objectStore=function(e){return this._db.objectStoreNames.contains(e)?new p(e,this):null},e}();t.Database=u;var p=function(){function e(e,t){this._name=e,this._database=t}return Object.defineProperty(e.prototype,"name",{get:function(){return this._name},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"store",{get:function(){return this._database.db.transaction(this._name).objectStore(this._name)},enumerable:!0,configurable:!0}),e.prototype.executeTransaction=function(e,t){var n=this;return new r.TPromise(function(r,o){var s,a=n._database.db.transaction(n._name,l.toString(e));a.onerror=function(e){return o(e.target.error)},a.oncomplete=function(){return r(s)},a.onabort=function(){return o(i.canceled())};try{s=t(a.objectStore(n._name),a)}catch(c){a.abort(),o(c)}})},e.prototype.openCursor=function(e,t,n,r){return d.openCursor(this,null,e,t,n,r)},e.prototype.index=function(e){if(!this.store.indexNames.contains(e)){for(var t=[],n=0,r=this.store.indexNames.length;r>n;n++)t.push(this.store.indexNames.item(n));throw i.illegalArgument("Invalid index name: '"+e+"'. Allowed names are: "+t.join(", "))}return new h(e,this)},e.prototype.get=function(e){return this.executeTransaction(0,function(t){return a(t.get(e))}).then(function(e){return e}).then(function(e){return e.result})},e}();t.ObjectStore=p;var h=function(){function e(e,t){this._name=e,this._store=t}return Object.defineProperty(e.prototype,"index",{get:function(){return this._store.store.index(this._name)},enumerable:!0,configurable:!0}),e.prototype.openCursor=function(e,t,n,r){return d.openCursor(this._store,this._name,e,t,n,r)},e}();t.Index=h;var d;!function(e){function t(e,t,i,o,s,a){var l,u=0;return n.isFunction(o)?a=o:n.isFunction(s)?(l=o,a=s):(l=o,u=s),new r.TPromise(function(n,r){var o,s=[];e.executeTransaction(i,function(e){var n;n=t?e.index(t).openCursor(l,c.toString(u)):e.openCursor(l,c.toString(u)),n.onsuccess=function(t){var n=t.target;n.result&&s.push(a(n.result.value,n.result,e))},n.onerror=function(e){return o=e}}).then(function(){o?r(o):n(s)},r)})}e.openCursor=t}(d||(d={}))});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n};define("vs/languages/typescript/project/languageServiceHosts",["require","exports","vs/base/collections","vs/base/errors","vs/base/lifecycle","vs/languages/typescript/lib/typescriptServices"],function(e,t,n,r,i,o){var s=function(){function e(e){this._original=e}return e.NewInstanceIfRequired=function(t){return t.getLength()>25e5?new e(t):t},e.prototype._getEmptyValue=function(){if(!this._emptyValue){var e=this._original.getLength(),t=this._original.getText(0,e);this._emptyValue=t.replace(/[^\r\n]/g," ")}return this._emptyValue},e.prototype.getText=function(e,t){return this._getEmptyValue().substring(e,t)},e.prototype.getLength=function(){return this._getEmptyValue().length},e.prototype.isOpen=function(){return this._original.isOpen()},e.prototype.getVersionId=function(){return this._original.getVersionId()},e.prototype.getLineStartPositions=function(){return this._original.getLineStartPositions()},e.prototype.getTextChangeRangeSinceVersion=function(e){return this._original.getTextChangeRangeSinceVersion(e)},e}(),a=function(){function e(e,t){this._newSnapshot=e;var n=t.getVersionId()-this._newSnapshot.getVersionId();this._versionIdDelta=1+Math.max(0,n)}return e.prototype.isOpen=function(){return this._newSnapshot.isOpen()},e.prototype.getVersionId=function(){return this._newSnapshot.getVersionId()+this._versionIdDelta},e.prototype.getText=function(e,t){return this._newSnapshot.getText(e,t)},e.prototype.getLength=function(){return this._newSnapshot.getLength()},e.prototype.getLineStartPositions=function(){return this._newSnapshot.getLineStartPositions()},e.prototype.getTextChangeRangeSinceVersion=function(e){return this._newSnapshot.getTextChangeRangeSinceVersion(e)},e}(),l=function(){function e(e){this._versionId=e.getVersionId(),this._value=e.getValue(),this._length=this._value.length,this._lineStarts=[];for(var t=0,n=e.getLineCount();n>t;t++)this._lineStarts.push(e.getLineStart(t+1))}return e.prototype.isOpen=function(){return!0},e.prototype.getVersionId=function(){return this._versionId},e.prototype.getText=function(e,t){return this._value.substring(e,t)},e.prototype.getLength=function(){return this._length},e.prototype.getLineStartPositions=function(){return this._lineStarts},e.prototype.getTextChangeRangeSinceVersion=function(e){return this.getVersionId()===e?o.TextChangeRange.unchanged:null},e}(),c=function(){function e(e){this._snapshot=e}return e.prototype.isOpen=function(){return!1},e.prototype.getVersionId=function(){return-1},e.prototype.getText=function(e,t){return this._snapshot.getText(e,t)},e.prototype.getLength=function(){return this._snapshot.getLength()},e.prototype.getLineStartPositions=function(){return this._snapshot.getLineStartPositions()},e.prototype.getTextChangeRangeSinceVersion=function(e){return this.getVersionId()===e?o.TextChangeRange.unchanged:null},e}(),u=function(e){function t(t,n,r){var i=this;e.call(this),this._snapshots=Object.create(null),this._disposables=[],this._resourceService=t.resourceService,this._mode=n,this._resourceFilter=r,this._compilationSettings=new o.CompilationSettings,this._disposables.push(this._resourceService.addListener2("resource.added",function(){return i._resetStateId()})),this._disposables.push(this._resourceService.addListener2("resource.removed",function(){return i._resetStateId()})),this._disposables.push(this._resourceService.addListener2("resource.changed",function(){return i._resetStateId()}))}return __extends(t,e),t.prototype.dispose=function(){this._snapshots=Object.create(null),i.disposeAll(this._disposables)},t.prototype.getStateId=function(){return this._stateId||(this._stateId=Math.random()),this._stateId},t.prototype._resetStateId=function(){this._stateId=null},t.prototype._insert=function(e,t){t=s.NewInstanceIfRequired(t);var n=this._snapshots[e];return!n||n.getVersionId()<t.getVersionId()?(this._snapshots[e]=t,!0):n.getVersionId()===t.getVersionId()?!1:n.getVersionId()>t.getVersionId()?(this._snapshots[e]=new a(t,n),!0):void 0},t.prototype._sync=function(){if(this._lastSyncedState!==this.getStateId()){var e=Object.create(null);for(var t in this._snapshots)this._snapshots[t]instanceof l&&(e[t]=!0);for(var n=this._resourceService.all(),r=0,i=n.length;i>r;r++)if(this._resourceFilter(n[r])){var o=n[r],s=o.getAssociatedResource().toExternal();this._insert(s,new l(o))&&this._resetStateId(),delete e[s]}for(var t in e)delete this._snapshots[t],this._stateId=null;this._lastSyncedState=this.getStateId()}},t.prototype.getScriptFileNames=function(){return this._sync(),Object.keys(this._snapshots)},t.prototype.getScriptVersion=function(e){return this._sync(),this._snapshots[e].getVersionId()},t.prototype.getScriptIsOpen=function(e){return this._sync(),this._snapshots[e].isOpen()},t.prototype.getScriptByteOrderMark=function(){return 1},t.prototype.getScriptSnapshot=function(e){return this._sync(),this._snapshots[e]},t.prototype.fileExists=function(e){return this._sync(),"undefined"!=typeof this._snapshots[e]},t.prototype.getDiagnosticsObject=function(){return this},t.prototype.getLocalizedDiagnosticMessages=function(){return null},t.prototype.getCompilationSettings=function(){return this._compilationSettings},t.prototype.resolveRelativePath=function(){throw r.notImplemented()},t.prototype.directoryExists=function(){throw r.notImplemented()},t.prototype.getParentDirectory=function(){throw r.notImplemented()},t}(o.NullLogger);t.MirrorModelLanguageServiceHost=u;var p=function(e){function t(){e.apply(this,arguments)}return __extends(t,e),t.prototype.addScriptSnapshot=function(e,t){return this.getScriptSnapshot(e)instanceof l?!1:this._insert(e,new c(t))},t.prototype.removeScriptSnapshot=function(e){return this.getScriptSnapshot(e)instanceof l?!1:n.contains(this._snapshots,e)?(delete this._snapshots[e],!0):!1},t}(u);t.ProjectLanguageServiceHost=p}),define("vs/base/graph",["require","exports","vs/base/collections"],function(e,t,n){function r(e){return{data:e,incoming:{},outgoing:{}}}t.newNode=r;var i=function(){function e(e){this._hashFn=e,this._nodes={}}return e.prototype.traverse=function(e,t,n){var r=this.lookup(e);r&&this._traverse(r,t,{},n)},e.prototype._traverse=function(e,t,r,i){var o=this,s=this._hashFn(e.data);if(!n.contains(r,s)){r[s]=!0,i(e.data);var a=t?e.outgoing:e.incoming;n.forEach(a,function(e){return o._traverse(e.value,t,r,i)})}},e.prototype.insertEdge=function(e,t){var n=this.lookupOrInsertNode(e),r=this.lookupOrInsertNode(t);n.outgoing[this._hashFn(t)]=r,r.incoming[this._hashFn(e)]=n},e.prototype.removeNode=function(e){var t=this._hashFn(e);delete this._nodes[t],n.forEach(this._nodes,function(e){delete e.value.outgoing[t],delete e.value.incoming[t]})},e.prototype.lookupOrInsertNode=function(e){var r=this._hashFn(e),i=n.lookup(this._nodes,r);return i||(i=t.newNode(e),this._nodes[r]=i),i},e.prototype.lookup=function(e){return n.lookup(this._nodes,this._hashFn(e))},e}();t.Graph=i}),define("vs/languages/typescript/modulePaths",["require","exports","vs/base/paths","vs/base/strings"],function(e,t,n,r){function i(e,t){return{value:n.join(n.dirname(t),e)}}function o(e,t,i){"undefined"==typeof i&&(i=r.empty);var o=n.isRelative(e)?n.join(n.dirname(t),e):n.join(i,e);return{value:o+n.extname(t),alternateValue:o+s}}var s=".d.ts";t.internal=i,t.external=o});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n};define("vs/languages/typescript/project/dependencyResolver",["require","exports","vs/base/lib/winjs.base","vs/base/assert","vs/base/graph","vs/base/severity","vs/base/collections","vs/base/network","vs/base/hash","vs/base/strings","vs/base/paths","vs/languages/typescript/lib/typescriptServices","vs/languages/typescript/modulePaths","vs/base/lifecycle","vs/languages/typescript/typescript.contribution"],function(e,t,n,r,i,o,s,a,l,c,u,p,h,d,m){var f=function(){function t(e,t,n){this._implicitDependenciesLoaded=!1,this._disposables=[],this._requestService=e.requestService,this._markerService=e.markerService2,this._compileConfig=n,this._basepath=this._requestService.getRequestUrl("root",c.empty,!0),this._resolver=t}return t.prototype.dispose=function(){this._disposables=d.disposeAll(this._disposables)},t.prototype.resolve=function(e,t){var r=this,i=[];if(this._implicitDependenciesLoaded||i.push(this._loadImplicitDependencies(t)),0===e.toExternal().indexOf(this._basepath)){var o,s=e.toExternal(),a=this._requestService.getPath("root",e);i.push(this._loadImplicitDeclaredDependencies(t,a)),o=t.fileExists(s)?this._loadDeclaredDependencies(t,{filename:a,snapshot:t.getScriptSnapshot(s)}):this._resolver.resolve(a).then(function(e){var n=r._normalizedSnapshot(e.value);return t.addScriptSnapshot(s,n),r._loadDeclaredDependencies(t,{filename:a,snapshot:n})}),i.push(o)}return n.TPromise.join(i).then(function(e){var t=e.reduce(function(e,t){return e+t},0);return t})},t.prototype._loadDeclaredDependencies=function(e,t,r,i){var o=this;return"undefined"==typeof r&&(r=Object.create(null)),"undefined"==typeof i&&(i=!0),r[t.filename]=!0,this._loadDeclaredDependenciesFlat(e,t,i).then(function(t){for(var i=[],s=0,a=0,l=t.length;l>a;a++)r[t[a].filename]||(e.addScriptSnapshot(u.join(o._basepath,t[a].filename),t[a].snapshot)&&(s+=1),i.push(o._loadDeclaredDependencies(e,t[a],r,!1)));return n.TPromise.join(i).then(function(e){return e.reduce(function(e,t){return e+t},s)})})},t.prototype._loadDeclaredDependenciesFlat=function(e,t,r){var i=this,s=p.preProcessFile(t.filename,t.snapshot),l=s.importedFiles.concat(s.referencedFiles),c=s.importedFiles.length,d=[];return n.TPromise.join(l.map(function(e,n){var o=n>=c?h.internal(e.path,t.filename):h.external(e.path,t.filename,i._compileConfig.baseUrl);return i._loadWithContentResolver(o.value,o.alternateValue).then(function(i){i?d.push(i):r&&n>=c&&s.diagnostics.push(new p.Diagnostic(t.filename,p.LineMap1.fromScriptSnapshot(t.snapshot),e.position,e.length,p.DiagnosticCode.Cannot_resolve_referenced_file_0,[e.path]))})})).then(function(){if(r){var e=s.diagnostics.map(function(e){return{message:e.text(),severity:o.Severity.Error,startLineNumber:e.line()+1,startColumn:e.character()+1,endLineNumber:e.line()+1,endColumn:e.character()+e.length()+1}});i._markerService.changeOne("typescript.dependencies",a.URL.fromValue(u.join(i._basepath,t.filename)),e)}return d})},t.prototype._loadWithContentResolver=function(e,t){var r=this;return this._resolver.resolve(e).then(function(i){return i?n.TPromise.as({filename:e,snapshot:r._normalizedSnapshot(i.value)}):t?r._loadWithContentResolver(t,null):null})},t.prototype._loadImplicitDeclaredDependencies=function(e,t){var r=this,i=[],o=Object.create(null);do t=u.dirname(t),i.push(this._loadWithContentResolver(u.join(t,"_references.ts"),u.join(t,"_references.js")).then(function(t){return t?r._loadDeclaredDependencies(e,t,o,!1):n.TPromise.as(0)}));while("."!==t);return n.TPromise.join(i).then(function(e){return e.reduce(function(e,t){return e+t},0)})},t.prototype._loadImplicitDependencies=function(e){var t=this,r=0;return n.Promise.join(this._compileConfig.extraLibs.map(function(n){return t._loadBaselib(n).then(function(t){t&&e.addScriptSnapshot(t.filename,t.snapshot)&&(r+=1)})})).then(function(){return t._implicitDependenciesLoaded=!0,r})},t.prototype._loadBaselib=function(t){var r=this;return 0===t.indexOf("vs/text!")||0===u.extname(t).length?new n.TPromise(function(n,i){e([t],function(e){n({filename:t,snapshot:r._normalizedSnapshot(e)})},i)}):this._requestService.makeRequest({url:t}).then(function(e){return 200===e.status?{filename:t,snapshot:r._normalizedSnapshot(e.responseText)}:null},function(e){return console.error("failed to load base lib with path "+t),console.error(e),null})},t.prototype._normalizedSnapshot=function(e){return p.ScriptSnapshot.fromString(e.replace(/\r\n/g,"\n"))},t}();t.DependencyResolver2=f;var g=function(e){function t(t,n,r){var i=this;e.call(this,t,n,r),this._resourceService=t.resourceService,this._disposables.push(t.eventService.addListener2(m.Events.ResourceSetChanged,function(){return i._resetGraph()})),this._disposables.push(this._resourceService.addListener2("resource.changed",function(e){e.url.toExternal().match(/_references\.(ts|js)$/)&&i._resetGraph()})),this._resetGraph()}return __extends(t,e),t.prototype._resetGraph=function(){this._cache=new i.Graph(function(e){return e.filename})},t.prototype._loadDeclaredDependenciesFlat=function(t,i,o){var a=this,l=this._cache.lookup({filename:i.filename,state:{}}),c=l?l.data.state:{},p=!1;if(this._validateState(i,t,c)){for(var h=s.values(l.outgoing),d=[],m=0,f=h.length;f>m&&!p;m++){var g=h[m].data,v=u.join(this._basepath,g.filename),y=t.getScriptSnapshot(v);y?d.push({filename:g.filename,snapshot:y}):p=!0}if(!p)return n.TPromise.as(d)}else p=!0;return r.ok(p),e.prototype._loadDeclaredDependenciesFlat.call(this,t,i,o).then(function(e){var t={filename:i.filename,state:c};return e.forEach(function(e){return a._cache.insertEdge(t,{filename:e.filename,state:{}})}),e})},t.prototype._validateState=function(e,t,n){var r,i=u.join(this._basepath,e.filename);return t.fileExists(i)?n.version!==(r=t.getScriptVersion(i))?(n.version=r,n.referenceState=this._computeReferenceState(e),!1):!0:(n.version=void 0,n.referenceState=this._computeReferenceState(e),!1)},t.prototype._computeReferenceState=function(e){var t=p.preProcessFile(e.filename,e.snapshot),n=11;return t.importedFiles.concat(t.referencedFiles).forEach(function(e){n=l.combine(n,l.computeMurmur2StringHashCode(e.path)+(59+e.line)+(61+e.character))}),n},t}(f);t.DependencyResolver3=g}),define("vs/languages/typescript/project/typescriptProject",["require","exports","vs/base/strings","vs/base/lifecycle","vs/languages/typescript/lib/typescriptServices","vs/languages/typescript/project/languageServiceHosts","vs/languages/typescript/project/dependencyResolver"],function(e,t,n,r,i,o,s){var a=function(){function e(e,t,n,r,i,o,a){this._disposables=[],this._instantiationService=e.instantiationService,this._requestService=e.requestService,this._dependencyResolver=e.instantiationService.createInstance(s.DependencyResolver3,i,o),this._contentResolver=i,this._mode=t,this._prefix=n,this._resourceFilter=r,this._compileConfig=o,this._suggestConfig=a}return e.prototype.dispose=function(){this._disposables=r.disposeAll(this._disposables)},e.prototype.root=function(){return this._prefix},e.prototype.compileConfiguration=function(){return this._compileConfig},e.prototype.suggestConfiguration=function(){return this._suggestConfig},e.prototype.syntaxLanguageService=function(){if(!this._syntaxLanguageService){var e=this._instantiationService.createInstance(o.MirrorModelLanguageServiceHost,this._mode,this._resourceFilter);this._applyCompileConfig(e.getCompilationSettings()),this._syntaxLanguageService=new i.Services.LanguageService(e),this._disposables.push(e)}return this._syntaxLanguageService},e.prototype.semanticLanguageService=function(){if(!this._semanticLanguageService){var e=this._instantiationService.createInstance(o.ProjectLanguageServiceHost,this._mode,this._resourceFilter);this._applyCompileConfig(e.getCompilationSettings()),this._semanticLanguageService=new i.Services.LanguageService(e),this._disposables.push(e)}return this._semanticLanguageService},e.prototype.dependencyResolver=function(){return this._dependencyResolver},e.prototype.contentResolver=function(){return this._contentResolver},e.prototype.requestService=function(){return this._requestService},e.prototype._applyCompileConfig=function(e){e.useCaseSensitiveFileResolution=!0,e.noImplicitAny=this._compileConfig.noImplicitAny,e.codeGenTarget=n.equalsIgnoreCase("ES3",this._compileConfig.target)?0:1,e.moduleGenTarget=n.equalsIgnoreCase("commonjs",this._compileConfig.module)?1:n.equalsIgnoreCase("amd",this._compileConfig.module)?2:0},e}();t.TypeScriptProject=a});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n};define("vs/languages/typescript/project/projectResolver",["require","exports","vs/base/env","vs/base/hash","vs/base/strings","vs/base/paths","vs/base/errors","vs/base/lifecycle","vs/base/collections","vs/base/db/indexeddb","vs/base/lib/winjs.base","vs/platform/services","vs/languages/typescript/typescript.contribution","vs/base/trie"],function(e,t,n,r,i,o,s,a,l,c,u,p,h,d){var m;!function(e){function t(e){return"monaco_"+r.computeMurmur2StringHashCode(e)}function n(t,n){return c.openDatabase(t,1,function(t,n){for(var r=0,i=n.objectStoreNames.length;i>r;r++)t.deleteDataStore(n.objectStoreNames.item(r));t.createDataStore({name:e.storeName,keyPath:e.keyPath,index:[e.workspaceIndexOptions]})}).then(function(t){return n.push(t),t.objectStore(e.storeName)},function(){return null})}e.databaseName=t,e.keyPath="workspaceAbsolutePath",e.storeName="cache",e.workspaceIndexOptions={name:"workspaceName",keyPath:"workspaceName",options:{unique:!1}},e.openStore=n}(m||(m={}));var f=function(){function e(){}return e.prototype.resolve=function(){return null},e.Instance=new e,e}();t.NullProjectResolver=f,function(e){function t(e,t,n){for(var r=d.newTrie({},function(e){return e.split(o.sep).filter(function(e){return!i.isFalsyOrWhitespace(e)})}),s=d.newTrie(),a=!1,l=0,c=e.length;c>l;l++){var u=e[l];u&&(2===u.type?s.insert(u.path,u):(1===u.type||0===u.type)&&r.insert(u.path,u))}s.roots().forEach(function(e){n(e.element.path),a=!0});for(var p=r.roots();p.length>0;){var h=p.shift(),u=h.element;if(1===u.type)t(u.path);else if(0===u.type){var m=h.children(),c=m.length;if(0===c)continue;for(var f=0,l=0;c>l;l++)1===m[l].element.type&&(f+=1);f>1?(t(u.path),a=!0):p.push.apply(p,m)}}return a}e.minimize=t}(t.RemoteFileEventProcessing||(t.RemoteFileEventProcessing={}));var g=t.RemoteFileEventProcessing,v=function(){function e(e,t){var n=this;this._fileService=e.rawFileService,this._eventService=e.eventService,this._options=t,this._disposables=[];var r=e.eventService.addListener(p.Files.EventType.REMOTE_FILE_CHANGES,function(e){var t=e.getRawEvents();g.minimize(t,function(e){return n._handleAdded(e)},function(e){return n._handleDelete(e)})&&n._eventService.emit(h.Events.ResourceSetChanged)});this._disposables.push({dispose:r}),this._pendingOperations=[u.TPromise.timeout(0).then(function(){return n._resolveStatsAndContents("/")})]}return e.prototype.dispose=function(){this._disposables=a.disposeAll(this._disposables)},e.prototype._handleDelete=function(e){this._pendingOperations.push(u.TPromise.as({removed:[e]}))},e.prototype._handleAdded=function(e){this._pendingOperations.push(this._resolveStatsAndContents(e))},e.prototype.resolve=function(){var e=this,t=this._pendingOperations.length;if(0===t)return u.TPromise.as({});if(this._resolverError)return u.TPromise.wrapError(this._resolverError);var n={added:[],removed:[],hasChanges:!1};return u.TPromise.join(this._pendingOperations.splice(0,t).map(function(t){return t.then(function(e){n.added.push.apply(n.added,e.added),n.removed.push.apply(n.removed,e.removed),n.hasChanges=n.hasChanges||e.hasChanges},function(t){if(!s.isPromiseCanceledError(t))throw e._resolverError=t,t})})).then(function(){return n},function(t){e._resolverError=t})},e.prototype._resolveStatsAndContents=function(e){var t=this;return this._fetchStats(e).then(function(n){return t._fetchContents(e,n)},function(e){if(404===e.status)return[];throw e}).then(function(e){return{added:e}})},e.prototype._fetchStats=function(e){return this._fileService.resolveFileStats(e,this._options.pattern)},e.prototype._fetchContents=function(e,t){return this._fileService.resolveContents(t.map(function(e){return e.path}))},e}(),y=function(){function e(){this._value=Object.create(null)}return e.prototype.change=function(){this._value=Object.create(null)},Object.defineProperty(e.prototype,"value",{get:function(){return this._value},enumerable:!0,configurable:!0}),e}(),b=function(e){function t(t,n){e.call(this,t,n),this._workspaceName=t.contextService.getWorkspace().name,this._databaseName=m.databaseName(n.modeId),this._state=new y}return __extends(t,e),t.prototype._getObjectStore=function(){return this._objectStorePromise||(this._objectStorePromise=m.openStore(this._databaseName,this._disposables)),this._objectStorePromise},t.prototype._handleDelete=function(t){var n=this;this._pendingOperations.push(this._getObjectStore().then(function(e){return e?e.index(m.workspaceIndexOptions.name).openCursor(1,IDBKeyRange.only(n._workspaceName),function(e,r,i){o.isEqualOrParent(e.content.path,t)&&(i.delete(e.workspaceAbsolutePath),n._state.change()),r.continue()}):void 0})),e.prototype._handleDelete.call(this,t)},t.prototype._resolveStatsAndContents=function(t){var n=this,r=this._state.value;return e.prototype._resolveStatsAndContents.call(this,t).then(function(e){return e.hasChanges=r!==n._state.value,e})},t.prototype._fetchContents=function(t,n){var r=this;return this._getObjectStore().then(function(i){return i?r._doFetchContents(i,t,n).then(function(e){return e.persistedContents.concat(e.volatileContents)}):e.prototype._fetchContents.call(r,t,n)})},t.prototype._doFetchContents=function(t,n,r){var i=this,a=o.join(this._workspaceName,n),c={},u={volatileContents:[],persistedContents:[]};return r.forEach(function(e){var t=o.join(i._workspaceName,e.path);if(l.lookupOrInsert(c,t,e)!==e)throw new Error("path collision between two different stat objects. path: "+t)}),t.index(m.workspaceIndexOptions.name).openCursor(1,IDBKeyRange.only(this._workspaceName),function(e,t,n){var r=l.lookup(c,e.workspaceAbsolutePath);o.isEqualOrParent(e.workspaceAbsolutePath,a)&&(r&&r.etag===e.content.etag?(delete c[e.workspaceAbsolutePath],u.persistedContents.push(e.content)):(n.delete(e.workspaceAbsolutePath),i._state.change())),t.continue()
}).then(function(){return e.prototype._fetchContents.call(i,n,l.values(c))}).then(function(e){return t.executeTransaction(1,function(t){e.forEach(function(e){t.put({workspaceName:i._workspaceName,workspaceAbsolutePath:o.join(i._workspaceName,e.path),content:e}),i._state.change(),u.persistedContents.push(e)})}).then(void 0,function(t){if(!s.isPromiseCanceledError(t))throw t;u.volatileContents=e})}).then(function(){return u})},t}(v),_=function(e){function t(){e.apply(this,arguments)}return __extends(t,e),t.prototype._doFetchContents=function(t,n,r){return e.prototype._doFetchContents.call(this,t,n,r).then(function(e){return e.persistedContents.length=0,e})},t}(b),w=function(){function e(e,t){this._delegate=e.rawFileService?c.canBeUsed()?n.browser.isFirefox?e.instantiationService.createInstance(b,t):e.instantiationService.createInstance(_,t):e.instantiationService.createInstance(v,t):f.Instance}return e.prototype.resolve=function(){return this._delegate.resolve()},e}();t.ProjectResolver=w;var S=function(){function e(e,t){this._disposables=[],this._workspaceName=e.contextService.getWorkspace().name,this._databaseName=m.databaseName(t)}return e.prototype.dispose=function(){this._disposables=a.disposeAll(this._disposables)},e.prototype.resolve=function(e){if(i.isFalsyOrWhitespace(this._workspaceName))return u.TPromise.as(null);var t=o.join(this._workspaceName,e);return this._getObjectStore().then(function(e){return e?e.get(t).then(function(e){return e?e.content:null}):null})},e.prototype.accept=function(e){var t,n=this;return new u.TPromise(function(r,i){n._getObjectStore().then(function(r){return r?r.index(m.workspaceIndexOptions.name).openCursor(1,IDBKeyRange.only(n._workspaceName),function(n,r){e(n.content),t||r.continue()}):void 0}).then(function(){return r(null)},i)},function(){t=s.canceled()})},e.prototype._getObjectStore=function(){return this._objectStorePromise||(this._objectStorePromise=m.openStore(this._databaseName,this._disposables)),this._objectStorePromise},e}();t.DatabaseContentResolver=S}),define("vs/languages/typescript/features/converter",["require","exports"],function(e,t){function n(e,t){return e.getPosition(t.lineNumber-1,t.column-1)}function r(e,t){return e.getPosition(t.startLineNumber-1,t.startColumn-1)}function i(e,t){return e.getPosition(t.endLineNumber-1,t.endColumn-1)}function o(e,t){t=a(e,t);var n=e.getLineAndCharacterFromPosition(t);return{lineNumber:1+n.line(),column:1+n.character()}}function s(e,t,n,r){if("undefined"==typeof r&&(r=!1),t=a(e,t),n=a(e,n),r){var i=e.getLineAndCharacterFromPosition(t);return{startLineNumber:1+i.line(),startColumn:1+i.character(),endLineNumber:1+i.line(),endColumn:1+i.character()}}var i=e.getLineAndCharacterFromPosition(t),o=e.getLineAndCharacterFromPosition(n);return{startLineNumber:1+i.line(),startColumn:1+i.character(),endLineNumber:1+o.line(),endColumn:1+o.character()}}function a(e,t){var n=e.length;return t>=n?n-1:t}t.getOffset=n,t.getStartOffset=r,t.getEndOffset=i,t.getPosition=o,t.getRange=s}),define("vs/languages/typescript/features/moduleLinks",["require","exports","vs/base/network","vs/languages/typescript/lib/typescriptServices","vs/languages/typescript/modulePaths","vs/languages/typescript/features/converter"],function(e,t,n,r,i,o){function s(e,t,r,s,l){var c,u=o.getOffset(e.lineMap(),r);if(u<e.sourceUnit().leadingTriviaWidth())for(var p=e.sourceUnit().leadingTrivia(),h=0,d=0,m=p.count();m>d;d++){var f=p.syntaxTriviaAt(d);if(h+=f.fullWidth(),h>=u){if(f.isComment()){var g=f.fullText(),v=a.exec(g);v&&(c={path:v[3],external:!1})}break}}else if(14===e.sourceUnit().findToken(u,!0).kind()){var y=e.sourceUnit().findToken(u,!0);y.previousToken()&&72===y.previousToken().kind()&&(y.previousToken().previousToken()&&11===y.previousToken().previousToken().kind()&&"require"===y.previousToken().previousToken().token().valueText()||66===y.previousToken().previousToken().kind())&&(c={path:y.token().valueText(),external:!0})}if(!c)return null;var b,_=c.external?i.external(c.path,t,l):i.internal(c.path,t);return s.fileExists(_.value)?b=_.value:_.alternateValue&&s.fileExists(_.alternateValue)&&(b=_.alternateValue),b?{resourceUrl:new n.URL(b),range:{startLineNumber:1,startColumn:1,endLineNumber:1,endColumn:1},preview:null}:null}var a=/^(\/\/\/\s*<reference\s+path=)('|")(.+?)\2\s*(static=('|")(.+?)\2\s*)*\/>/;t.findLink=s}),define("vs/languages/typescript/features/format",["require","exports","vs/languages/typescript/lib/typescriptServices","vs/languages/typescript/features/converter"],function(e,t,n,r){function i(e,t,n,i){var o=t.toExternal(),a=e.getSyntaxTree(o),l=r.getStartOffset(a.lineMap(),n),c=r.getEndOffset(a.lineMap(),n);return e.getFormattingEditsForRange(o,l,c,s(i)).map(function(e){return{text:e.text,range:r.getRange(a.lineMap(),e.minChar,e.limChar)}})}function o(e,t,n,i){var o=t.toExternal(),a=e.getSyntaxTree(o),l=r.getOffset(a.lineMap(),n),c=a.sourceUnit().fullText().substr(l-1,1);return e.getFormattingEditsAfterKeystroke(o,l,c,s(i)).map(function(e){return{text:e.text,range:r.getRange(a.lineMap(),e.minChar,e.limChar)}})}function s(e){var t=new n.Services.FormatCodeOptions;return t.ConvertTabsToSpaces=e.insertSpaces,t.TabSize=e.tabSize,t.IndentSize=e.tabSize,t.InsertSpaceAfterCommaDelimiter=!0,t.InsertSpaceBeforeAndAfterBinaryOperators=!0,t.InsertSpaceAfterSemicolonInForStatements=!0,t}t.formatRange=i,t.formatAfterKeystroke=o}),define("vs/languages/typescript/features/logicalSelection",["require","exports","vs/languages/typescript/features/converter"],function(e,t,n){function r(e,t,r){for(var i=e.getSyntaxTree(t.toExternal()),o=n.getOffset(i.lineMap(),r),s=i.sourceUnit().findToken(o),a=-1,l=-1,c=[];null!==s;){var u=s.start(),p=s.end();(u!==a||p!==l)&&c.unshift({type:"node",range:n.getRange(i.lineMap(),u,p)}),a=u,l=p,s=s.parent()}return c}t.compute=r}),define("vs/languages/typescript/features/extraInfo",["require","exports","vs/languages/typescript/features/converter"],function(e,t,n){function r(e,t,r){var i,o=t.toExternal(),s=e.getSyntaxTree(o),a=n.getOffset(s.lineMap(),r),l=e.getTypeAtPosition(o,a);if(l){var c=[{className:"type",text:l.memberName.toString()},{className:"documentation",text:l.docComment}];i={value:"",htmlContent:c,className:"typeInfo ts",range:n.getRange(s.lineMap(),l.minChar,l.limChar)}}return i}t.compute=r});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n};define("vs/languages/typescript/features/outline",["require","exports","vs/base/strings","vs/base/arrays","vs/languages/typescript/features/converter","vs/languages/typescript/lib/typescriptServices"],function(e,t,n,r,i,o){function s(e,t){var n={type:null,label:null,range:null,children:[]};return new l(e.getSyntaxTree(t.toExternal()),n),n.children}!function(e){e[e.Method=0]="Method",e[e.Function=1]="Function",e[e.Constructor=2]="Constructor",e[e.Variable=3]="Variable",e[e.Class=4]="Class",e[e.Interface=5]="Interface",e[e.Module=6]="Module",e[e.Property=7]="Property",e[e.Enum=8]="Enum",e[e.Rule=9]="Rule",e[e.File=10]="File"}(t.Type||(t.Type={}));var a=t.Type;!function(e){function t(e){switch(e){case 1:return"function";case 3:return"variable";case 8:return"enum";case 6:return"module";case 5:return"interface";case 4:return"class";case 2:return"constructor";case 7:return"property";case 0:return"method"}return"property"}e.toString=t}(t.Type||(t.Type={}));var a=t.Type,l=function(e){function t(t,n){e.call(this),this._tree=t,this._currentParent=n,this._parentStack=[],this._offsetOfInterest=-1,this._tree.sourceUnit().accept(this)}return __extends(t,e),t.prototype._add=function(e,t,n){var r={label:n,type:a.toString(e),range:i.getRange(this._tree.lineMap(),this.position()+t.leadingTriviaWidth(),this.position()+t.leadingTriviaWidth()+t.width())};return this._currentParent.children?this._currentParent.children.push(r):this._currentParent.children=[r],this._tokenOfInterest=null,this._offsetOfInterest=-1,r},t.prototype._asParent=function(e,t,n,r){var i=this._currentParent;this._currentParent=this._add(e,t,n);try{r()}finally{this._currentParent=i}},t.prototype.visitToken=function(t){t===this._tokenOfInterest&&(this._offsetOfInterest=t.leadingTriviaWidth()+this.position()),e.prototype.visitToken.call(this,t)},t.prototype._labelFromOffsetOfInterest=function(e){return-1!==this._offsetOfInterest?(e.label=this._tree.sourceUnit().fullText().substring(this._offsetOfInterest,this.position()),!0):!1},t.prototype._labelFromIdentifier=function(e,t){return e&&!n.isFalsyOrWhitespace(e.valueText())?(t.label=e.valueText(),!0):!1},t.prototype.visitNode=function(t){t.isList()?e.prototype.visitNode.call(this,t):(this._parentStack.push(t),e.prototype.visitNode.call(this,t),this._parentStack.pop())},t.prototype._callSignatureText=function(e){return e.callSignature?e.callSignature.parameterList?(e.callSignature.parameterList.fullText()||"()").trim():n.empty:n.empty},t.prototype.visitModuleDeclaration=function(t){var n,r=this;t.stringLiteral?n=t.stringLiteral.valueText():t.name&&(n=t.name.fullText()),n?this._asParent(6,t,n,function(){e.prototype.visitModuleDeclaration.call(r,t)}):e.prototype.visitModuleDeclaration.call(this,t)},t.prototype.visitClassDeclaration=function(t){var n=this;this._asParent(4,t,t.identifier.valueText(),function(){e.prototype.visitClassDeclaration.call(n,t)})},t.prototype.visitInterfaceDeclaration=function(t){var n=this;this._asParent(5,t,t.identifier.valueText(),function(){e.prototype.visitInterfaceDeclaration.call(n,t)})},t.prototype.visitMemberVariableDeclaration=function(t){this._add(7,t,t.variableDeclarator.propertyName.valueText()),e.prototype.skip.call(this,t)},t.prototype.visitGetAccessor=function(t){this._add(7,t,t.propertyName.valueText()),e.prototype.visitGetAccessor.call(this,t)},t.prototype.visitSetAccessor=function(t){this._add(7,t,t.propertyName.valueText()),e.prototype.visitSetAccessor.call(this,t)},t.prototype.visitMemberFunctionDeclaration=function(t){var r=this;this._asParent(0,t,n.format("{0}{1}",t.propertyName.valueText(),this._callSignatureText(t)),function(){e.prototype.visitMemberFunctionDeclaration.call(r,t)})},t.prototype.visitMethodSignature=function(t){this._add(0,t,n.format("{0}{1}",t.propertyName.valueText(),this._callSignatureText(t))),e.prototype.skip.call(this,t)},t.prototype.visitIndexSignature=function(t){this._add(7,t,t.fullText()),e.prototype.skip.call(this,t)},t.prototype.visitPropertySignature=function(t){this._add(7,t,t.propertyName.valueText()),e.prototype.skip.call(this,t)},t.prototype.visitEnumDeclaration=function(t){var n=this;this._asParent(8,t,t.identifier.valueText(),function(){e.prototype.visitEnumDeclaration.call(n,t)})},t.prototype.visitEnumElement=function(t){this._add(7,t,t.propertyName.valueText()),e.prototype.skip.call(this,t)},t.prototype._isValidVariableScope=function(){var e=r.tail(this._parentStack,3);return e&&130!==e.kind()?this._isInsideAmdDefineClause()&&8===this._parentStack.length?!0:this._isInsideSelfInvokingFunction()&&8===this._parentStack.length?!0:!1:!0},t.prototype._isInsideAmdDefineClause=function(){return this._parentStack.length<5?!1:149!==this._parentStack[0].kind()?!1:213!==this._parentStack[1].kind()?!1:this._parentStack[1].expression.fullText().indexOf("define")<0?!1:226!==this._parentStack[2].kind()?!1:222!==this._parentStack[3].kind()?!1:146!==this._parentStack[4].kind()?!1:!0},t.prototype._isInsideSelfInvokingFunction=function(){return this._parentStack.length<5?!1:149!==this._parentStack[0].kind()?!1:213!==this._parentStack[1].kind()?!1:217!==this._parentStack[2].kind()?!1:this._parentStack[1].expression!==this._parentStack[2]?!1:222!==this._parentStack[3].kind()&&129!==this._parentStack[3].kind()?!1:146!==this._parentStack[4].kind()?!1:!0},t.prototype._isAnyKindOfFunction=function(e){if(!e)return!1;var t=e.kind();return 129===t||222===t||219===t||218===t},t.prototype.visitVariableDeclarator=function(t){var n=this;t.equalsValueClause&&this._isAnyKindOfFunction(t.equalsValueClause.value)?(this._tokenOfInterest=t.propertyName,e.prototype.visitVariableDeclarator.call(this,t)):t.equalsValueClause&&t.equalsValueClause.value instanceof o.ObjectLiteralExpressionSyntax?this._asParent(3,t,t.propertyName.valueText(),function(){e.prototype.visitVariableDeclarator.call(n,t)}):this._isValidVariableScope(t)?(this._add(3,t,t.propertyName.valueText()),e.prototype.visitVariableDeclarator.call(this,t)):e.prototype.visitVariableDeclarator.call(this,t)},t.prototype.visitSimplePropertyAssignment=function(t){this._isAnyKindOfFunction(t.expression)&&(this._tokenOfInterest=t.propertyName),e.prototype.visitSimplePropertyAssignment.call(this,t)},t.prototype.visitLabeledStatement=function(t){this._isAnyKindOfFunction(t.statement)&&(this._tokenOfInterest=t.identifier),e.prototype.visitLabeledStatement.call(this,t)},t.prototype.visitBinaryExpression=function(t){107===t.operatorToken.kind()&&this._isAnyKindOfFunction(t.right)&&212===t.left.kind()&&(this._tokenOfInterest=t.left.name),e.prototype.visitBinaryExpression.call(this,t)},t.prototype.visitFunctionExpression=function(t){var r,i=this,o={};if(this._labelFromIdentifier(t.identifier,o))r=n.format("{0}{1}",o.label,this._callSignatureText(t));else{if(!this._labelFromOffsetOfInterest(o))return e.prototype.visitFunctionExpression.call(this,t);r=n.format("{0}function{1}",o.label,this._callSignatureText(t))}this._asParent(0,t,r,function(){e.prototype.visitFunctionExpression.call(i,t)})},t.prototype.visitFunctionDeclaration=function(t){var r,i=this,o={};if(this._labelFromIdentifier(t.identifier,o))r=n.format("{0}{1}",o.label,this._callSignatureText(t));else{if(!this._labelFromOffsetOfInterest(o))return e.prototype.visitFunctionDeclaration.call(this,t);r=n.format("{0}function{1}",o.label,this._callSignatureText(t))}this._asParent(1,t,r,function(){e.prototype.visitFunctionDeclaration.call(i,t)})},t}(o.PositionTrackingWalker);t.compute=s}),define("vs/languages/typescript/features/occurrences",["require","exports","vs/languages/typescript/features/converter"],function(e,t,n){function r(e,t,r){var i=t.toExternal(),o=e.getSyntaxTree(i),s=n.getOffset(o.lineMap(),r),a=e.getOccurrencesAtPosition(i,s);return a.map(function(e){return{kind:e.isWriteAccess?"write":null,range:n.getRange(o.lineMap(),e.minChar,e.limChar)}})}t.compute=r}),define("vs/languages/typescript/features/previewer",["require","exports","vs/editor/core/model/mirrorModel"],function(e,t,n){function r(e,t,r,i,o){"undefined"==typeof o&&(o=200);for(var s,a=e.getSyntaxTree(t),l=a.sourceUnit().findToken(r);l&&!s;)l.fullWidth()>o&&(s=l),l=l.parent();s||(s=a.sourceUnit().findToken(r).root());var c=e.host.getScriptSnapshot(t).getText(s.fullStart(),s.fullEnd()),u=new n.MirrorModel(null,0,c,null),p=r-s.fullStart(),h=i-r,d=u.getRangeFromOffsetAndLength(p,h);return u.dispose(),{text:c,range:d}}t.compute=r}),define("vs/languages/typescript/features/definitions",["require","exports","vs/base/network","vs/languages/typescript/features/converter","vs/languages/typescript/features/previewer"],function(e,t,n,r,i){function o(e,t,o){var s=t.toString(),a=e.getSyntaxTree(s),l=r.getOffset(a.lineMap(),o),c=a.sourceUnit().findToken(l,!0);if(l<c.start()||l>c.end())return null;var u=e.getDefinitionAtPosition(s,l);if(!u||0===u.length)return null;var p=u[0];if(!p.fileName)return null;var h=e.getSyntaxTree(p.fileName);return{resourceUrl:n.URL.fromValue(h.fileName()),range:r.getRange(h.lineMap(),p.minChar,p.limChar,!0),preview:i.compute(e,p.fileName,p.minChar,p.limChar)}}function s(e,t,n){var i=t.toExternal(),o=e.getSyntaxTree(i),s=r.getOffset(o.lineMap(),n),l=e.getSymbolInfoAtPosition(i,s,!0);if(!l||!l.symbol||!l.symbol.type)return null;var c=[],u=l.symbol.type;if(u.isFunction()&&!u.isConstructor())for(var p=u.getCallSignatures(),h=0,d=p.length;d>h;h++)a(e,p[h].returnType,c);else a(e,u,c);return c[0]||null}function a(e,t,i){if(t)for(var o=t.getDeclarations(),s=0,a=o.length;a>s;s++){var l=o[s].ast();if(l){var c=e.getSyntaxTree(l.fileName());i.push({resourceUrl:n.URL.fromValue(l.fileName()),range:r.getRange(c.lineMap(),l.start(),l.end(),!0),preview:null})}}}t.findDeclaration=o,t.findTypeDeclaration=s}),define("vs/languages/typescript/features/references",["require","exports","vs/base/network","vs/base/lib/winjs.base","vs/languages/typescript/features/converter","vs/languages/typescript/features/previewer","vs/languages/typescript/lib/typescriptServices"],function(e,t,n,r,i,o){function s(e,t,o,s){var c=e.semanticLanguageService(),u=r.TPromise.as(null),p=n.schemas.inMemory===t.getScheme();if(!p&&a(c,t,o)){var h=c.getSyntaxTree(t.toExternal()),d=i.getOffset(h.lineMap(),o),m=h.sourceUnit().findToken(d,!0);if(!m)return console.warn("NO token found at offset"),r.TPromise.as([]);var f=e.dependencyResolver(),g=e.requestService(),v=[],y=m.token().text();u=e.contentResolver().accept(function(e){if(e.value.indexOf(y)>=0){var t=n.URL.fromEncoded(g.getRequestUrl("root",e.path,!0));v.push(f.resolve(t,c.host))}}).then(function(){return r.TPromise.join(v)})}return u.then(function(){return l(c,t,o,s,p)})}function a(e,t,n){var r=t.toExternal(),o=e.getSyntaxTree(r),s=i.getOffset(o.lineMap(),n),a=e.getSymbolInfoAtPosition(r,s,!0);return!a||!a.symbol||a.symbol.isExternallyVisible()}function l(e,t,r,s,a){var l=t.toExternal(),u=e.getSyntaxTree(l),p=i.getOffset(u.lineMap(),r);return(a?e.getOccurrencesAtPosition(l,p):e.getReferencesAtPosition(l,p)).filter(function(t){var n=e.getSyntaxTree(t.fileName);return s||!c(n,t.minChar,t.limChar)}).map(function(t){var r=e.getSyntaxTree(t.fileName),s={resourceUrl:n.URL.fromValue(r.fileName()),range:i.getRange(r.lineMap(),t.minChar,t.limChar),preview:o.compute(e,t.fileName,t.minChar,t.limChar)};return s})}function c(e,t){var n=e.sourceUnit().findToken(t);if(n){var r=n.parent();if(r&&r.element())switch(r.element().kind()){case 131:return r.element().identifier===n.element();case 128:return r.element().identifier===n.element();case 132:return r.element().identifier===n.element();case 243:return r.element().propertyName===n.element();case 135:return r.element().propertyName===n.element();case 139:return r.element().propertyName===n.element();case 140:return r.element().propertyName===n.element();case 129:return r.element().identifier===n.element();case 225:return r.element().propertyName===n.element();case 145:return r.element().propertyName===n.element();case 141:return r.element().propertyName===n.element()}}return!1}t.find=s});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n};define("vs/languages/typescript/features/codelens",["require","exports","vs/base/lib/winjs.base","vs/languages/typescript/lib/typescriptServices","vs/languages/typescript/features/converter","vs/languages/typescript/features/references"],function(e,t,n,r,i,o){function s(e,t){var n=t.toExternal(),r=e.getSyntaxTree(n),o=[];return r.sourceUnit().accept(new l(o,function(e,t){return i.getRange(r.lineMap(),e,e+t)})),o}function a(e,t,r,i){var s=e.semanticLanguageService().host.getStateId();return s===i?n.TPromise.as(null):o.find(e,t,r,!1).then(function(e){return{references:e,languageModeStateId:s}})}var l=function(e){function t(t,n){e.call(this),this._result=t,this._rangeConverter=n,this._tokenOfInterest=null}return __extends(t,e),t.prototype.visitToken=function(t){t===this._tokenOfInterest&&(this._result.push({range:this._rangeConverter(t.leadingTriviaWidth()+this.position(),t.width()),id:null}),this._tokenOfInterest=null),e.prototype.visitToken.call(this,t)},t.prototype.visitClassDeclaration=function(t){this._tokenOfInterest=t.identifier,e.prototype.visitClassDeclaration.call(this,t)},t.prototype.visitInterfaceDeclaration=function(t){this._tokenOfInterest=t.identifier,e.prototype.visitInterfaceDeclaration.call(this,t)},t.prototype.visitGetAccessor=function(t){this._tokenOfInterest=t.propertyName,e.prototype.visitGetAccessor.call(this,t)},t.prototype.visitSetAccessor=function(t){this._tokenOfInterest=t.propertyName,e.prototype.visitSetAccessor.call(this,t)},t.prototype.visitMemberFunctionDeclaration=function(t){this._tokenOfInterest=t.propertyName,e.prototype.visitMemberFunctionDeclaration.call(this,t)},t.prototype.visitEnumDeclaration=function(t){this._tokenOfInterest=t.identifier,e.prototype.visitEnumDeclaration.call(this,t)},t.prototype.visitEnumElement=function(t){this._tokenOfInterest=t.propertyName,e.prototype.visitEnumElement.call(this,t)},t.prototype.visitFunctionExpression=function(t){t.identifier&&(this._tokenOfInterest=t.identifier),e.prototype.visitFunctionExpression.call(this,t)},t.prototype.visitFunctionDeclaration=function(t){this._tokenOfInterest=t.identifier,e.prototype.visitFunctionDeclaration.call(this,t)},t}(r.PositionTrackingWalker);t.getCodeLenseSymbols=s,t.findCodeLensReferences=a}),define("vs/languages/typescript/features/parameterHints",["require","exports","vs/languages/typescript/features/converter"],function(e,t,n){function r(e,t,r){var o=t.toExternal(),s=e.getSyntaxTree(o),a=n.getOffset(s.lineMap(),r),l=e.getSignatureAtPosition(o,a);return l?{currentSignature:Math.max(0,l.activeFormal),currentParameter:Math.max(0,l.actual.currentParameter),signatures:l.formal.map(function(e){return i(e)})}:null}function i(e){return{label:e.signatureInfo,documentation:e.docComment,parameters:e.parameters.map(function(e){return o(e)})}}function o(e){return{label:e.name,documentation:e.docComment,signatureLabelOffset:e.minChar,signatureLabelEnd:e.limChar}}t.compute=r}),define("vs/languages/lib/javascriptSnippets",["require","exports","vs/nls!vs/languages/typescript/typescriptWorker2"],function(e,t,n){t.snippets=[{type:"snippet",label:"define",codeSnippet:["define([","	'require',","	'{{require}}'","], function(require, {{factory}}) {","	'use strict';","	{{}}","});"].join("\n"),documentationLabel:n.localize("vs_languages_lib_javascriptSnippets",0)},{type:"snippet",label:"for",codeSnippet:["for (var {{index}} = 0; {{index}} < {{array}}.length; {{index}}++) {","	var {{element}} = {{array}}[{{index}}];","	{{}}","}"].join("\n"),documentationLabel:n.localize("vs_languages_lib_javascriptSnippets",1)},{type:"snippet",label:"foreach",codeSnippet:["{{array}}.forEach(function({{element}}) {","	{{}}","}, this);"].join("\n"),documentationLabel:n.localize("vs_languages_lib_javascriptSnippets",2)},{type:"snippet",label:"forin",codeSnippet:["for (var {{key}} in {{object}}) {","	if ({{object}}.hasOwnProperty({{key}})) {","		var {{element}} = {{object}}[{{key}}];","		{{}}","	}","}"].join("\n"),documentationLabel:n.localize("vs_languages_lib_javascriptSnippets",3)},{type:"snippet",label:"function",codeSnippet:["function {{name}}({{params}}) {","	{{}}","}"].join("\n"),documentationLabel:n.localize("vs_languages_lib_javascriptSnippets",4)},{type:"snippet",label:"if",codeSnippet:["if ({{condition}}) {","	{{}}","}"].join("\n"),documentationLabel:n.localize("vs_languages_lib_javascriptSnippets",5)},{type:"snippet",label:"ifelse",codeSnippet:["if ({{condition}}) {","	{{}}","} else {","	","}"].join("\n"),documentationLabel:n.localize("vs_languages_lib_javascriptSnippets",6)},{type:"snippet",label:"new",codeSnippet:["var {{name}} = new {{type}}({{arguments}});{{}}"].join("\n"),documentationLabel:n.localize("vs_languages_lib_javascriptSnippets",7)},{type:"snippet",label:"switch",codeSnippet:["switch ({{key}}) {","	case {{value}}:","		{{}}","		break;","","	default:","		break;","}"].join("\n"),documentationLabel:n.localize("vs_languages_lib_javascriptSnippets",8)},{type:"snippet",label:"while",codeSnippet:["while ({{condition}}) {","	{{}}","}"].join("\n"),documentationLabel:n.localize("vs_languages_lib_javascriptSnippets",9)},{type:"snippet",label:"dowhile",codeSnippet:["do {","	{{}}","} while ({{condition}});"].join("\n"),documentationLabel:n.localize("vs_languages_lib_javascriptSnippets",10)},{type:"snippet",label:"trycatch",codeSnippet:["try {","	{{}}","} catch ({{error}}) {","	","}"].join("\n"),documentationLabel:n.localize("vs_languages_lib_javascriptSnippets",11)},{type:"snippet",label:"log",codeSnippet:["console.log({{message}});{{}}"].join("\n"),documentationLabel:n.localize("vs_languages_lib_javascriptSnippets",12)},{type:"snippet",label:"settimeout",codeSnippet:["setTimeout(function() {","	{{}}","}, {{timeout}});"].join("\n"),documentationLabel:n.localize("vs_languages_lib_javascriptSnippets",13)},{type:"snippet",label:"reference",codeSnippet:['/// <reference path="{{}}" />',""].join("\n"),documentationLabel:n.localize("vs_languages_lib_javascriptSnippets",14)}]}),define("vs/languages/typescript/features/typescriptSnippets",["require","exports","vs/nls!vs/languages/typescript/typescriptWorker2"],function(e,t,n){t.snippets=[{type:"snippet",label:"foreach =>",codeSnippet:["{{array}}.forEach(({{element}}:{{type}}) => {","	{{}}","});"].join("\n"),documentationLabel:n.localize("vs_languages_typescript_features_typescriptSnippets",0)},{type:"snippet",label:"jsdoc comment",codeSnippet:["/**"," * {{}}"," */"].join("\n"),documentationLabel:n.localize("vs_languages_typescript_features_typescriptSnippets",1)},{type:"snippet",label:"ctor",codeSnippet:["/**"," *"," */","constructor() {","	super();","	{{}}","}"].join("\n"),documentationLabel:n.localize("vs_languages_typescript_features_typescriptSnippets",2)},{type:"snippet",label:"class",codeSnippet:["/**"," * {{name}}"," */","class {{name}} {","	constructor({{parameters}}) {","		{{}}","	}","}"].join("\n"),documentationLabel:n.localize("vs_languages_typescript_features_typescriptSnippets",3)},{type:"snippet",label:"public method",codeSnippet:["/**"," * {{name}}"," */","public {{name}}() {","	{{}}","}"].join("\n"),documentationLabel:n.localize("vs_languages_typescript_features_typescriptSnippets",4)},{type:"snippet",label:"private method",codeSnippet:["private {{name}}() {","	{{}}","}"].join("\n"),documentationLabel:n.localize("vs_languages_typescript_features_typescriptSnippets",5)},{type:"snippet",label:"import statement",codeSnippet:["import {{name}} = require('{{}}');"].join("\n"),documentationLabel:n.localize("vs_languages_typescript_features_typescriptSnippets",6)}]});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n};define("vs/languages/typescript/features/wordSuggestions",["require","exports","vs/languages/typescript/lib/typescriptServices","vs/base/collections"],function(e,t,n,r){function i(e,t,n){for(var i=[],s=0;s<arguments.length-3;s++)i[s]=arguments[s+3];var a={};return e.accept(new o(a,t,n)),i.forEach(function(e){return delete a[e]}),r.keys(a)}var o=function(e){function t(t,n,r){e.call(this),this._target=t,this._comments=n,this._identifiers=r}return __extends(t,e),t.prototype.visitToken=function(e){if(this._comments)for(var t=e.leadingTrivia().concat(e.trailingTrivia()),n=0,r=t.count();r>n;n++){var i=t.syntaxTriviaAt(n);i.isComment()&&this.wordenize(this._target,i.fullText())}else this._identifiers&&11===e.kind()&&e.width()>0&&(this._target[e.valueText()]=!0)},t.prototype.wordenize=function(e,t){for(var n,r=/(-?\d*\.\d\w*)|(\w+)/g;n=r.exec(t);)e[t.substr(n.index,n[0].length)]=!0},t}(n.SyntaxWalker);return i}),define("vs/languages/typescript/features/suggestions",["require","exports","vs/base/collections","vs/languages/typescript/lib/typescriptServices","vs/languages/typescript/features/converter","vs/languages/lib/javascriptSnippets","vs/languages/typescript/features/typescriptSnippets","vs/languages/typescript/features/wordSuggestions"],function(e,t,n,r,i,o,s,a){function l(e,t,n){return e>t&&n>e}function c(e,t){var n=t.findToken(e,!0);if(e<n.start()||e>n.end())for(var r=n.token().leadingTrivia().concat(n.token().trailingTrivia()),i=n.token().leadingTrivia().count(),o=n.fullStart(),s=0,a=r.count();a>s;s++){var c=r.syntaxTriviaAt(s);if(c.isComment()&&l(e,o,o+c.fullWidth()))return!0;o=i===s?n.start()+n.token().width():o+c.fullWidth()}return!1}function u(e,t){for(var n=t-1;n>=0&&!/\W/.test(e.charAt(n));)n-=1;return e.substring(n+1,t)}function p(e){return e.type+e.label+e.codeSnippet}function h(e,r,l,c){var u=r.toExternal(),h=e.getSyntaxTree(u),d=i.getOffset(h.lineMap(),l),f=t.wordUntilOffset(e.host.getScriptSnapshot(u).getText(0,e.host.getScriptSnapshot(u).getLength()),d);if(t.isAtComment(d,h.sourceUnit())){var g={currentWord:f,suggestions:[]};return a(h.sourceUnit(),!0,!0,f).every(function(e){return g.suggestions.push({label:e,codeSnippet:e,type:"text"}),!0}),g}var v=!1,y=e.getCompletionsAtPosition(u,d,v),b=n.createStringDictionary();if(y){v=y.isMemberCompletion;for(var _=0,w=y.entries.length;w>_;_++){var S=y.entries[_];n.insert(b,{label:S.name,codeSnippet:S.name,type:m(S.kind)},p)}}if(!v){for(var _=0,w=o.snippets.length;w>_;_++)n.insert(b,o.snippets[_],p);for(var _=0,w=s.snippets.length;w>_;_++)n.insert(b,s.snippets[_],p)}return c.alwaysAllWords&&a(h.sourceUnit(),!1,!0,f).every(function(e){return n.insert(b,{label:e,codeSnippet:e,type:"text"},p),!0}),{currentWord:f,suggestions:n.values(b)}}function d(e,t,n,r,o){if("snippet"===r.type)return r;var s=t.toExternal(),a=e.getSyntaxTree(s),l=i.getOffset(a.lineMap(),n),c=e.getCompletionEntryDetails(s,l,r.label);if(!c)return r;if(r.documentationLabel=c.docComment,r.typeLabel=c.type,r.codeSnippet=c.name,o.useCodeSnippetsOnMethodSuggest&&"function"===m(c.kind)){var u=f(c.type),p=u.arguments.map(function(e){return"{{"+e.name.trim()+"}}"}),h=c.name;h+=p.length>0?"("+p.join(", ")+"){{}}":"()",r.codeSnippet=h}return r}function m(e){switch(e){case r.Services.ScriptElementKind.primitiveType:case r.Services.ScriptElementKind.keyword:return"keyword";case r.Services.ScriptElementKind.variableElement:case r.Services.ScriptElementKind.localVariableElement:case r.Services.ScriptElementKind.memberVariableElement:case r.Services.ScriptElementKind.memberGetAccessorElement:case r.Services.ScriptElementKind.memberSetAccessorElement:return"field";case r.Services.ScriptElementKind.functionElement:case r.Services.ScriptElementKind.memberFunctionElement:case r.Services.ScriptElementKind.constructSignatureElement:case r.Services.ScriptElementKind.callSignatureElement:return"function"}return e}function f(e){var t,n,r,i=[],o="",s="",a=!0,l=1;for(t=1,n=e.length;n>t;t++)if(r=e.charAt(t),")"===r&&l--,"("===r&&l++,1!==l||":"!==r)if(1!==l||","!==r){if(0===l&&")"===r){""!==o&&i.push({name:o,type:s});break}a?o+=r:s+=r}else i.push({name:o,type:s}),o="",s="",a=!0;else a=!1;return{arguments:i,flatArguments:e.substr(0,t+1),flatReturnType:e.substr(t+5)}}t.isAtComment=c,t.wordUntilOffset=u,t.computeSuggestions=h,t.getSuggestionDetails=d}),define("vs/languages/typescript/features/quickFix",["require","exports","vs/base/strings","vs/languages/typescript/features/converter","vs/languages/typescript/features/suggestions"],function(e,t,n,r,i){function o(e,t,o){var s=t.toExternal(),a=e.getSyntaxTree(s),l=r.getOffset(a.lineMap(),o),c=i.wordUntilOffset(a.sourceUnit().fullText(),l),u=l-c.length;if(c.length<1)return[];var p="."===a.sourceUnit().fullText().charAt(u-1),h=e.getCompletionsAtPosition(s,u,p),d=[];return h.entries.forEach(function(e){var t=n.difference(c,e.name);t<c.length/2||d.push({type:"field",label:e.name,codeSnippet:e.name,score:t})}),d.sort(function(e,t){return t.score-e.score}),d.slice(0,3)}t.compute=o}),define("vs/languages/typescript/lint/rules",["require","exports"],function(e,t){!function(e){function t(e){for(var t=[],n=0;n<arguments.length-1;n++)t[n]=arguments[n+1];for(var r=e.kind(),i=0,o=t.length;o>i;i++)if(r===t[i])return!0;return!1}function n(e){var t=e.fullText(),n=e.leadingTriviaWidth(),r=e.trailingTriviaWidth();return 0===n&&0===r?t:t.substr(n,t.length-(n+r))}e.isOfKind=t,e.text=n}(t.syntaxHelper||(t.syntaxHelper={}));t.syntaxHelper}),define("vs/languages/typescript/lint/rules/layout",["require","exports","vs/languages/typescript/lint/rules","vs/languages/typescript/lib/typescriptServices"],function(e,t,n){var r=function(){function e(){this.code="SA1503",this.name="CurlyBracketsMustNotBeOmitted",this.filter=[147,235,161,155,154,158]
}return e.prototype.checkElement=function(e,t){var n=e;235===n.kind()&&n.statement&&147===n.statement.kind()||n.statement&&146!==n.statement.kind()&&t.reportError(n.statement,this.name,this.code)},e}();t.CurlyBracketsMustNotBeOmitted=r;var i=function(){function e(){this.code="SA1514",this.name="EmptyBlocksWithoutComment",this.filter=[146]}return e.prototype.checkElement=function(e,t){e.statements.childCount()>0||this._hasComment(e)||t.reportError(e,this.name,this.code)},e.prototype._hasComment=function(e){if(!e)return!1;if(!e.firstToken()||!e.lastToken())return!1;for(var t=e.leadingTrivia().concat(e.trailingTrivia()),r=0,i=t.count();i>r;r++)if(n.syntaxHelper.isOfKind(t.syntaxTriviaAt(r),6,7))return!0;for(var r=0,i=e.childCount();i>r;r++)if(this._hasComment(e.childAt(r)))return!0;return!1},e}();t.EmptyBlocksWithoutComment=i}),define("vs/languages/typescript/lint/rules/typescript",["require","exports","vs/base/strings","vs/languages/typescript/lib/typescriptServices"],function(e,t,n,r){var i=function(){function e(){this.code="SA9002",this.name="FunctionsWithoutReturnType",this.filter=[142]}return e.prototype.checkElement=function(e,t){if(!e.typeAnnotation){var n=t.parent(e);if(218!==n.kind()&&219!==n.kind()&&222!==n.kind())if(n instanceof r.MemberFunctionDeclarationSyntax){var i=n;t.reportError(i.propertyName,this.name,this.code)}else if(n instanceof r.FunctionDeclarationSyntax){var o=n;t.reportError(o.identifier,this.name,this.code)}}},e}();t.FunctionsWithoutReturnType=i;var o=function(){function e(){this.code="SA9056",this.name="TripleSlashReferenceAlike",this.filter=[7]}return e.prototype.checkElement=function(e,t){this._couldMeanTripleSlash(e)&&t.reportError(e,this.name,this.code)},e.prototype._couldMeanTripleSlash=function(t){var r=t.fullText();if(e._TripleSlashReference.test(r))return!1;var i=r.split(/[\s=]/);if(!(i.length>5)){for(var o=0,s=0,a=0,l=0,c=i.length;c>l;l++)o=Math.max(o,n.difference("reference",i[l])),s=Math.max(s,n.difference("path",i[l])),a=Math.max(a,(n.startsWith(i[l],'"')||n.startsWith(i[l],"'")?1:0)+(n.endsWith(i[l],'"')||n.endsWith(i[l],"'")?1:0));return(a>0||s>5)&&o>5?!0:!1}},e._TripleSlashReference=/^(\/\/\/\s*<reference\s+path=)('|")(.+?)\2\s*(static=('|")(.+?)\2\s*)*/im,e}();t.TripleSlashReferenceAlike=o;var s=function(){function e(){this.code="SA9057",this.name="UnusedImports",this.filter=[133]}return e.prototype.checkElement=function(e,t){var n=t.end(e.identifier)-1,r=t.languageService().getOccurrencesAtPosition(t.filename(),n);1===r.length&&t.reportError(e,this.name,this.code)},e}();t.UnusedImports=s;var a=function(){function e(){this.code="SA9058",this.name="UnusedVariables",this.filter=[148]}return e.prototype.checkElement=function(e,t){if(!r.SyntaxUtilities.containsToken(e.modifiers,47)&&!r.SyntaxUtilities.containsToken(e.modifiers,63))for(var n,i=e.variableDeclaration.variableDeclarators,o=0,s=i.childCount();s>o;o++)if(i.childAt(o)instanceof r.VariableDeclaratorSyntax){n=i.childAt(o);var a=t.end(n.propertyName)-1,l=t.languageService().getOccurrencesAtPosition(t.filename(),a);if(l.length<=1){var a=void 0,c=void 0;n.typeAnnotation&&(a=t.start(n.propertyName),c=t.end(n.typeAnnotation)-a),t.reportError(n.propertyName,this.name,this.code,a,c)}}},e}();t.UnusedVariables=a;var l=function(){function e(){this.code="SA9059",this.name="UnusedFunctions",this.filter=[129]}return e.prototype.checkElement=function(e,t){if(!r.SyntaxUtilities.containsToken(e.modifiers,47)&&!r.SyntaxUtilities.containsToken(e.modifiers,63)){var n=e.identifier,i=t.end(n)-1,o=t.languageService().getOccurrencesAtPosition(t.filename(),i);o.length<=1&&t.reportError(n,this.name,this.code)}},e}();t.UnusedFunctions=l;var c=function(){function e(){this.code="SA9060",this.name="UnusedMembers",this.filter=[136,135]}return e.prototype.checkElement=function(e,t){var n;if(e instanceof r.MemberVariableDeclarationSyntax){if(!r.SyntaxUtilities.containsToken(e.modifiers,55))return;n=e.variableDeclarator.propertyName}else if(e instanceof r.MemberFunctionDeclarationSyntax){if(!r.SyntaxUtilities.containsToken(e.modifiers,55))return;n=e.propertyName}if(n){var i=t.end(n)-1,o=t.languageService().getOccurrencesAtPosition(t.filename(),i);o.length<=1&&t.reportError(n,this.name,this.code)}},e}();t.UnusedMembers=c}),define("vs/languages/typescript/lint/rules/javascript",["require","exports","vs/base/strings","vs/base/collections","vs/languages/typescript/lint/rules","vs/languages/typescript/lib/typescriptServices"],function(e,t,n,r,i,o){var s=function(){function e(){this.code="SA9005",this.name="ComparisonOperatorsNotStrict",this.filter=[84,86]}return e.prototype.checkElement=function(e,t){t.reportError(e,this.name,this.code)},e}();t.ComparisonOperatorsNotStrict=s;var a=function(){function e(){this.code="SA9050",this.name="MissingSemicolon",this.filter=[78]}return e.prototype.checkElement=function(e,t){e&&0!==e.fullWidth()||t.reportError(t.parent(e),this.name,this.code)},e}();t.MissingSemicolon=a;var l=function(){function e(){this.code="SA9051",this.name="ReservedKeywords"}return e.prototype.checkElement=function(e,t){o.SyntaxFacts.isFutureReservedKeyword(e.kind())&&t.reportError(e,this.name,this.code)},e}();t.ReservedKeywords=l;var c=function(){function e(){this.code="SA9052",this.name="TypeScriptSpecifics"}return e.prototype.checkElement=function(e,t){e.kind()<11||this._isTrulyTypeScriptSpecific(e)&&t.reportError(e,this.name,this.code)},e.prototype._isTrulyTypeScriptSpecific=function(e){if(!this._isTypeScriptSpecificToken(e))return!1;var t=[];do{for(var n=0,r=e.childCount();r>n;n++){var i=e.childAt(n);i&&t.push(i)}if(e=t.shift(),this._isTypeScriptSpecificToken(e))return!1}while(t.length>0);return!0},e.prototype._isTypeScriptSpecificToken=function(e){if(!e)return!1;if("function"==typeof e.isTypeScriptSpecific&&e.isTypeScriptSpecific())return!0;var t=e.kind();return t>=60&&69>=t?!0:o.SyntaxFacts.isFutureReservedKeyword(t)||o.SyntaxFacts.isFutureReservedKeyword(t)?!0:!1},e}();t.TypeScriptSpecifics=c;var u=function(){function e(){this.code="SA9053",this.name="UnknownTypeOfResults"}return e.prototype.checkElement=function(t,s){if(t instanceof o.BinaryExpressionSyntax){var a=t;if(i.syntaxHelper.isOfKind(a.left,171)){var l=!1;if(14===a.right.kind()){var c=i.syntaxHelper.text(a.right);c=n.trim(c,"'"),c=n.trim(c,'"'),l=!r.contains(e._AllowedStrings,c)}else 32===a.right.kind()?l=!0:"undefined"===i.syntaxHelper.text(a.right)&&(l=!0);l&&s.reportError(a,this.name,this.code)}}},e._AllowedStrings={undefined:!0,object:!0,function:!0,boolean:!0,number:!0,string:!0},e}();t.UnknownTypeOfResults=u;var p=function(){function e(){this.code="SA9054",this.name="SemicolonsInsteadOfBlocks",this.filter=[147,235,158,154,155]}return e.prototype.checkElement=function(e,t){e.statement&&"function"==typeof e.statement.kind&&156===e.statement.kind()&&t.reportError(e,this.name,this.code)},e}();t.SemicolonsInsteadOfBlocks=p;var h=function(){function e(){this.code="SA9055",this.name="FunctionsInsideLoops",this.filter=[222,129,219,218]}return e.prototype.checkElement=function(e,t){for(var n=t.parent(e);n;){if(i.syntaxHelper.isOfKind(n,154,155,158,161)){t.reportError(e,this.name,this.code);break}n=t.parent(n)}},e}();t.FunctionsInsideLoops=h;var d=function(){function e(){this.code="SA9062",this.name="NewOnLowercaseFunctions",this.filter=[216]}return e.prototype.checkElement=function(e,t){var n;n=e.expression instanceof o.MemberAccessExpressionSyntax?e.expression.name.fullText():i.syntaxHelper.text(e.expression),n&&!n.charAt(0).match(/[A-Z_]/)&&t.reportError(e.expression,this.name,this.code)},e}();t.NewOnLowercaseFunctions=d});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n};define("vs/languages/typescript/lint/lint",["require","exports","vs/nls!vs/languages/typescript/typescriptWorker2","vs/base/severity","vs/base/types","vs/base/collections","vs/languages/typescript/lib/typescriptServices","./rules/layout","./rules/typescript","./rules/javascript"],function(e,t,n,r,i,o,s,a,l,c){function u(e,t){for(var n in e)if(e.hasOwnProperty(n)){var r=e[n];"function"==typeof r&&(t[String(n).toLowerCase()]=r)}}function p(e){var t={},n=[];u(a,t),u(c,t),u(l,t);for(var s in e)if(e.hasOwnProperty(s)){var p=o.lookup(t,String(s).toLowerCase());p&&n.push({rule:i.create(p),severity:r.fromValue(e[s])})}return n}function h(e,t,n){var r=p(e),i=new f(t,r);return i.check(t.getSyntaxTree(n.toExternal()))}var d=function(){function e(e){this._rules={},this._errors=[];for(var t=0,n=e.length;n>t;t++)this._addRule(e[t])}return e.prototype._addRule=function(e){var t=this,n=function(n){o.lookupOrInsert(t._rules,n,[]).push(e)};e.rule.filter?e.rule.filter.forEach(n):n(-1)},e.prototype.check=function(e){return this._lineMap=e.lineMap(),this._syntaxInfo=s.SyntaxInformationMap.create(e.sourceUnit(),!0,!1),this._errors.length=0,this._currentSeverity=r.Severity.Warning,this._visit(e.sourceUnit()),this._errors.slice(0)},e.prototype.reportError=function(e,t,n,r,i){"undefined"==typeof r&&(r=this.start(e)),"undefined"==typeof i&&(i="function"==typeof e.width?e.width():e.fullWidth());var o=this._lineMap.getLineAndCharacterFromPosition(r),s=this._lineMap.getLineAndCharacterFromPosition(r+i);this._errors.push({message:t,code:n,severity:this._currentSeverity,range:{startLineNumber:1+o.line(),startColumn:1+o.character(),endLineNumber:1+s.line(),endColumn:1+s.character()}})},e.prototype.start=function(e){return e===this._currentTrivia?this._currentTriviaPosition:this._syntaxInfo.start(e)},e.prototype.end=function(e){return e===this._currentTrivia?this._currentTriviaPosition+e.fullWidth():this._syntaxInfo.end(e)},e.prototype.parent=function(e){return this._syntaxInfo.parent(e)},e.prototype._visit=function(e){if(e){if(e.isToken()){var t=e.leadingTrivia(),n=t.count();t.concat(e.trailingTrivia()),this._currentTriviaPosition=this.start(e)-e.leadingTriviaWidth();for(var r=0,i=t.count();i>r;r++)this._currentTrivia=t.syntaxTriviaAt(r),this._checkNodeOrToken(this._currentTrivia),r!==n?this._currentTriviaPosition+=this._currentTrivia.fullWidth():this._currentTriviaPosition=this.end(e)-e.trailingTriviaWidth();this._currentTrivia=null,this._currentTriviaPosition=null}this._checkNodeOrToken(e);for(var r=0,i=e.childCount();i>r;r++)this._visit(e.childAt(r))}},e.prototype._checkNodeOrToken=function(e){for(var t=e.kind(),n=o.lookup(this._rules,t,[]).concat(o.lookup(this._rules,-1,[])),r=0,i=n.length;i>r;r++)if(this._currentSeverity=n[r].severity,0!==this._currentSeverity)try{n[r].rule.checkElement(e,this)}catch(s){console.error(s)}},e}();t.SimpleStyleRuleChecker=d;var m=function(e){function t(t,n){e.call(this,n),this._languageService=t}return __extends(t,e),t.prototype.languageService=function(){return this._languageService},t.prototype.filename=function(){return this._filename},t.prototype.check=function(t){return this._filename=t.fileName(),e.prototype.check.call(this,t)},t}(d);t.LanuageServiceStyleRuleChecker=m;var f=function(e){function t(){e.apply(this,arguments)}return __extends(t,e),t.prototype.reportError=function(t,n,r,i,o){return e.prototype.reportError.call(this,t,this._lookupMessage(n,r),r,i,o)},t.prototype._lookupMessage=function(e,t){switch(t){case"SA1503":return n.localize("vs_languages_typescript_lint_lint",0);case"SA1514":return n.localize("vs_languages_typescript_lint_lint",1);case"SA9005":return n.localize("vs_languages_typescript_lint_lint",2);case"SA9050":return n.localize("vs_languages_typescript_lint_lint",3);case"SA9051":return n.localize("vs_languages_typescript_lint_lint",4);case"SA9052":return n.localize("vs_languages_typescript_lint_lint",5);case"SA9053":return n.localize("vs_languages_typescript_lint_lint",6);case"SA9054":return n.localize("vs_languages_typescript_lint_lint",7);case"SA9055":return n.localize("vs_languages_typescript_lint_lint",8);case"SA9062":return n.localize("vs_languages_typescript_lint_lint",9);case"SA9002":return n.localize("vs_languages_typescript_lint_lint",10);case"SA9056":return n.localize("vs_languages_typescript_lint_lint",11);case"SA9057":return n.localize("vs_languages_typescript_lint_lint",12);case"SA9058":return n.localize("vs_languages_typescript_lint_lint",13);case"SA9059":return n.localize("vs_languages_typescript_lint_lint",14);case"SA9060":return n.localize("vs_languages_typescript_lint_lint",15);case"SA9061":return n.localize("vs_languages_typescript_lint_lint",16)}return e},t}(m);t.StyleRuleCheckerWithMessages=f,t.check=h}),define("vs/languages/typescript/features/diagnostics",["require","exports","vs/base/severity","vs/languages/typescript/features/converter","vs/languages/typescript/lint/lint"],function(e,t,n,r,i){function o(e,t,n){if(!n.syntaxValidation)return[];var r=t.toExternal(),i=e.getSyntacticDiagnostics(r);return l(e.getSyntaxTree(r),i,n)}function s(e,t,n){if(!n.semanticValidation)return[];var r=t.toExternal(),i=e.getSemanticDiagnostics(r);return l(e.getSyntaxTree(r),i,n)}function a(e,t,n){return n.semanticValidation?i.check(n.lint,e,t).map(function(e){return{code:0,message:e.message,severity:e.severity,startLineNumber:e.range.startLineNumber,startColumn:e.range.startColumn,endLineNumber:e.range.endLineNumber,endColumn:e.range.endColumn}}):[]}function l(e,t,i){for(var o=[],s=0;s<t.length;s++){var a=t[s],l=r.getRange(e.lineMap(),a.start(),a.start()+a.length()),c=n.Severity.Error;i.diagnosticClassifier&&(c=i.diagnosticClassifier(a)),c&&o.push({code:a.info().code,message:a.text(),severity:c,startLineNumber:l.startLineNumber,startColumn:l.startColumn,endLineNumber:l.endLineNumber,endColumn:l.endColumn})}return o}t.getSyntacticDiagnostics=o,t.getSemanticDiagnostics=s,t.getExtraDiagnostics=a}),define("vs/languages/typescript/features/navigation",["require","exports","vs/base/filters","vs/languages/typescript/features/converter"],function(e,t,n,r){function i(e,t){var n=[];return e.forEach(function(e){var i=e.syntaxLanguageService();i.host.getScriptFileNames().forEach(function(e){var s=i.getScriptLexicalStructure(e);s.filter(function(e){return!!o(t,e.name)}).forEach(function(e){var t=i.getSyntaxTree(e.fileName);n.push({containerName:e.containerName,name:e.name,type:e.kind,matchKind:e.matchKind,resourceUrl:e.fileName,range:r.getRange(t.lineMap(),e.minChar,e.limChar)})})})}),n}var o=n.or(n.matchesPrefix,n.matchesContiguousSubString,n.matchesCamelCase);t.getNavigateToItems=i}),define("vs/languages/typescript/features/emitting",["require","exports","vs/base/strings"],function(e,t,n){function r(e,t,r){var i=e.getEmitOutput(t.toExternal()),o=i.outputFiles;if(!o)return null;for(var s=0,a=o.length;a>s;s++)if(n.endsWith(o[s].name,r))return{filename:o[s].name,content:o[s].text};return null}t.getEmitOutput=r});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);n.prototype=t.prototype,e.prototype=new n};define("vs/languages/typescript/typescriptWorker2",["require","exports","vs/base/lib/winjs.base","vs/base/arrays","vs/base/network","vs/base/strings","vs/base/uuid","vs/base/trie","vs/base/errors","vs/base/collections","vs/base/lifecycle","vs/editor/worker/modesWorker","vs/editor/core/model/mirrorModel","vs/platform/services","vs/languages/typescript/typescript.configuration","vs/languages/typescript/features/validationStrategy","vs/languages/typescript/project/project","vs/languages/typescript/typescript.contribution","vs/base/db/indexeddb","vs/base/paths","vs/languages/typescript/project/typescriptProject","vs/languages/typescript/project/projectResolver","vs/languages/typescript/features/moduleLinks","vs/languages/typescript/features/format","vs/languages/typescript/features/logicalSelection","vs/languages/typescript/features/extraInfo","vs/languages/typescript/features/outline","vs/languages/typescript/features/occurrences","vs/languages/typescript/features/definitions","vs/languages/typescript/features/codelens","vs/languages/typescript/features/references","vs/languages/typescript/features/parameterHints","vs/languages/typescript/features/suggestions","vs/languages/typescript/features/quickFix","vs/languages/typescript/features/diagnostics","vs/languages/typescript/features/navigation","vs/languages/typescript/features/emitting"],function(e,t,n,r,i,o,s,a,l,c,u,p,h,d,m,f,g,v,y,b,_,w,S,T,k,E,x,C,L,A,I,D,P,N,M,O,R){var F=function(){function e(e,t){this._resourceService=e.resourceService,this._filter=t,this._basepath=e.requestService.getRequestUrl("root",o.empty,!0)}return e.prototype.resolve=function(e){var t=i.URL.fromValue(b.join(this._basepath,e)),r=this._resourceService.get(t);if(!(r instanceof h.AbstractMirrorModel&&this._filter(r)))return n.TPromise.as(null);var o=r;return n.TPromise.as({value:o.getValue(),path:e})},e.prototype.accept=function(e){var t=this,r=null;return new n.TPromise(function(n,i){t._resourceService.all().every(function(n){if(r)return i(r),!1;if(!(n instanceof h.AbstractMirrorModel))return!0;var s=n;return o.startsWith(s.getAssociatedResource().toString(),t._basepath)?t._filter(n)?(e({resource:s.getAssociatedResource(),value:s.getValue(),path:s.getAssociatedResource().toString().substring(t._basepath.length),name:void 0,mtime:void 0,etag:void 0,mime:void 0}),!0):!0:!0}),n(null)},function(){r=l.canceled()})},e}(),V=function(e){function t(t,n,r){var i=this;e.call(this,t,n,r),this._callOnDispose=[],this._disposables=[],this._contents=Object.create(null),this._instantiationService=t.instantiationService,this._telemetryService=t.telemetryService,this._requestService=t.requestService,this._uuid=s.v4().asHex(),this._validationStrategy=this._instantiationService.createInstance(f.ValidationStrategy,this._validate.bind(this)),this._disposables.push(this._validationStrategy),this._eventService=t.eventService,this._callOnDispose.push(this.resourceService.addListener(d.ResourceEvents.ADDED,function(e){return i._onResourceAddedOrRemoved(e.url)})),this._callOnDispose.push(this.resourceService.addListener(d.ResourceEvents.REMOVED,function(e){return i._onResourceAddedOrRemoved(e.url)})),this.configure(null)}return __extends(t,e),t.prototype.dispose=function(){this._callOnDispose=u.cAll(this._callOnDispose),this._disposables=u.disposeAll(this._disposables)},t.prototype._doConfigure=function(e){var t=this,i=this._options,s=m.sanitize(e,m._internalDefaultValidationSettings,m.defaultSuggestSettings);if(i){var l={};i.validationSettings.forEach(function(e){return l[e.scope]=e.extraLibs}),s.validationSettings.forEach(function(e){return e.extraLibs=r.merge([e.extraLibs,c.lookup(l,e.scope,[])],function(e){return e})})}if(this._options&&m.equal(this._options,s))return n.TPromise.as(!1);this._projects&&u.disposeAll(this._projects.values()),this._projects=a.newTrie(),this._options=s;var p=r.coalesce([this._requestService.getRequestUrl("root",o.empty,!0),"inmemory://model/"]),h=[this._instantiationService.createInstance(F,this._isMirrorModelAndMyMode.bind(this)),this];y.canBeUsed()&&h.push(this._instantiationService.createInstance(w.DatabaseContentResolver,this._getMode().getId()));var d=new g.CompositeContentResolver(h);return p.forEach(function(e){t._options.validationSettings.forEach(function(n){var r,i=b.join(e,n.scope);r=function(e){if(!t._isMirrorModelAndMyMode(e))return!1;var n=t.findProject(e.getAssociatedResource()).root();return i===n},t._projects.insert(i,t._createProject(i,d,r,n,t._options.suggestSettings))})}),this._projects.insert(o.empty,this._createProject(o.empty,d,this._isMirrorModelAndMyMode.bind(this),m._internalDefaultValidationSettings,this._options.suggestSettings)),n.TPromise.as(!0)},t.prototype._isMirrorModelAndMyMode=function(e){return e instanceof h.AbstractMirrorModel?e.getModeId()!==this._getMode().getId()?!1:!0:!1},t.prototype._createProject=function(e,t,n,r,i){return this._instantiationService.createInstance(_.TypeScriptProject,this._getMode(),e,n,t,r,i)},t.prototype.findProject=function(e){var t=this._projects.lookUp(e.toExternal(),!0);if(t)return t.element;throw l.illegalState("no project found for: "+e.toExternal())},t.prototype.getProjects=function(){return this._projects.values().filter(function(e){return e.root()!==o.empty})},t.prototype.resolveDependenciesAndRun=function(e,t){var n=this.findProject(e);return n.dependencyResolver().resolve(e,n.semanticLanguageService().host).then(function(){try{return t(n)}catch(e){throw e}})},t.prototype.acceptProjectDelta=function(e){var t=this,n=e.hasChanges;r.isFalsyOrEmpty(e.added)||(e.added.forEach(function(e){return t._contents[e.path]=e}),n=!0),r.isFalsyOrEmpty(e.removed)||e.removed.forEach(function(e){e[0]!==b.sep&&(e=b.sep+e),Object.keys(t._contents).forEach(function(n){b.isEqualOrParent(n,e)&&delete t._contents[n]});var r=t._requestService.getRequestUrl("root","",!0);t.getProjects().forEach(function(t){var i=t.semanticLanguageService().host;n=i.getScriptFileNames().filter(function(t){return b.isEqualOrParent(t,b.join(r,e))}).map(function(e){return i.removeScriptSnapshot(e)}).reduce(function(e,t){return e||t},!1)||n})}),n&&(this._eventService.emit(v.Events.ResourceSetChanged),this._validationHelper.trigger())},t.prototype.resolve=function(e){return e[0]!==b.sep&&(e=b.sep+e),n.TPromise.as(this._contents[e])},t.prototype.accept=function(e){var t=this,r=null;return new n.TPromise(function(n,i){c.forEach(t._contents,function(t){e(t.value)}),r?i(r):n(null)},function(){r=l.canceled()})},t.prototype.doValidateOnChange=function(e,t,n){for(var r=0;r<e.length;r++){var i=this.resourceService.get(e[r]);this._validationStrategy.scheduleValidation(1,i)}for(var r=0;r<t.length;r++){var i=this.resourceService.get(t[r]),o=2;n&&(o=1),this._validationStrategy.scheduleValidation(o,i)}},t.prototype._onResourceAddedOrRemoved=function(e){var t=this.resourceService.get(e);this._shouldIncludeModelInValidation(t)&&(this._eventService.emit(v.Events.ResourceSetChanged),this._validationHelper.trigger())},t.prototype._validate=function(e,t,r){var i=this;if(t===f.ValidationType.Syntax){var o=this.findProject(e),s=M.getSyntacticDiagnostics(o.syntaxLanguageService(),e,o.compileConfiguration()),a=this._publishMarkersForResource(e,t,s);return n.TPromise.as(a)}return t===f.ValidationType.Semantic?this.resolveDependenciesAndRun(e,function(n){var o,s=n.semanticLanguageService(),a=n.compileConfiguration();o=M.getSemanticDiagnostics(s,e,a),1===r&&o.push.apply(o,M.getExtraDiagnostics(s,e,a)),i._publishMarkersForResource(e,t,o)}):n.TPromise.as(null)},t.prototype._publishMarkersForResource=function(e,t,n){var r=o.format("{0}/{1}",this._uuid,t);return this.markerService.changeOne(r,e,n),n.length>0},t.prototype._getContextForValidationParticipants=function(e){var t=this.findProject(e).syntaxLanguageService(),n=t.host.getScriptFileNames(),r=e.toExternal();return n.indexOf(r)<0?null:this.findProject(e).syntaxLanguageService().getSyntaxTree(r)},t.prototype.doSuggest=function(e,t){return this.resolveDependenciesAndRun(e,function(n){return P.computeSuggestions(n.semanticLanguageService(),e,t,n.suggestConfiguration)})},t.prototype._getSuggestContext=function(e){var t=this.findProject(e);return n.TPromise.as({syntaxTree:t.syntaxLanguageService().getSyntaxTree(e.toExternal()),compilationSettings:t.compileConfiguration(),project:t})},t.prototype.getSuggestionDetails=function(e,t,n){return this.resolveDependenciesAndRun(e,function(r){return P.getSuggestionDetails(r.semanticLanguageService(),e,t,n,r.suggestConfiguration)})},t.prototype.quickFix=function(e,t){return this.resolveDependenciesAndRun(e,function(n){return N.compute(n.semanticLanguageService(),e,t)})},t.prototype.getEmitOutput=function(e,t){return this.resolveDependenciesAndRun(e,function(n){return R.getEmitOutput(n.semanticLanguageService(),e,t)})},t.prototype.getNavigateToItems=function(e){return O.getNavigateToItems(this.getProjects(),e)},t.prototype.getParameterHints=function(e,t){return this.resolveDependenciesAndRun(e,function(n){return D.compute(n.semanticLanguageService(),e,t)})},t.prototype.findDeclaration=function(e,t){return n.TPromise.join([this._findTypeScriptDeclaration(e,t),this._findLinkTarget(e,t)]).then(function(e){return r.coalesce(e)[0]||null})},t.prototype._findLinkTarget=function(e,t){return this.resolveDependenciesAndRun(e,function(n){var r=e.toExternal(),i=n.syntaxLanguageService().getSyntaxTree(r);return S.findLink(i,r,t,n.semanticLanguageService().host,n.root())})},t.prototype.textReplace=function(e,t){var n=[["true","false"],["string","number","boolean","void","any"],["private","public"]];return this.valueSetsReplace(n,e,t)},t.prototype.findCodeLensSymbols=function(e){return A.getCodeLenseSymbols(this.findProject(e).syntaxLanguageService(),e)},t.prototype.findCodeLensReferences=function(e,t,n){return this.resolveDependenciesAndRun(e,function(r){return A.findCodeLensReferences(r,e,t,n)}).then(function(e){return e})},t.prototype.findReferences=function(e,t,n){return this.resolveDependenciesAndRun(e,function(r){return I.find(r,e,t,n)}).then(function(e){return e})},t.prototype.computeInfo=function(e,t){return this.resolveDependenciesAndRun(e,function(n){return E.compute(n.semanticLanguageService(),e,t)})},t.prototype.findOccurrences=function(e,t,n){return this.resolveDependenciesAndRun(e,function(r){return C.compute(r.semanticLanguageService(),e,t,n)})},t.prototype._findTypeScriptDeclaration=function(e,t){return this.resolveDependenciesAndRun(e,function(n){return L.findDeclaration(n.semanticLanguageService(),e,t)})},t.prototype.findTypeDeclaration=function(e,t){return this.resolveDependenciesAndRun(e,function(n){return L.findTypeDeclaration(n.semanticLanguageService(),e,t)})},t.prototype.getOutline=function(e){return x.compute(this.findProject(e).syntaxLanguageService(),e)},t.prototype.format=function(e,t,n){return T.formatRange(this.findProject(e).syntaxLanguageService(),e,t,n)},t.prototype.formatAfterKeystroke=function(e,t,n){return T.formatAfterKeystroke(this.findProject(e).syntaxLanguageService(),e,t,n)},t.prototype.getRangesToPosition=function(e,t){return k.compute(this.findProject(e).syntaxLanguageService(),e,t)},t}(p.AbstractWorkerMode);t.TypeScriptWorker2=V});